{"version":3,"sources":["components/constants/constants.js","components/task_template/task_template.js","components/task_template/index.js","components/header/index.js","components/header/header.js","components/footer/index.js","components/footer/footer.js","components/loading/index.js","components/loading/loading.js","services/dev-service/dev-service.js","services/app-service.js","components/create_task/index.js","components/create_task/create_task.js","components/buttons/but_play.js","components/buttons/but_pause.js","components/buttons/but_save.js","components/buttons/but_close.js","components/task/index.js","components/task/task.js","components/work-area/work-area.js","components/work-area/index.js","components/report/index.js","components/report/report.js","components/authorization/index.js","components/authorization/authorization.js","components/main/index.js","components/main/main.js","index.js"],"names":["ItemTypes","TaskTemplate","deleteTemplate","props","deleteHandler","template_index","template","id","this","connectDragSource","className","isDragging","type","data-dismiss","onClick","title","React","Component","DragSource","monitor","getItem","beginDrag","component","connect","dragSource","Header","state","navDate","changeDate","date","setState","exitHandles","exit","fio","customInput","selected","onChange","Footer","startDate","Date","endDate","changeStartDate","chandeReportDate","changeEndDate","report","createReport","closeHanler","closeReport","reportStat","Loading","DevService","domain","req","getDataFromURL","url","inputdata","a","auth","token","ans","headers","fetch","method","credentials","body","JSON","stringify","then","result","json","data","catch","error","status","logout","authorization","registration","saveTaskTemplate","getTemplates","getTowns","reportTasksDays","dates","getTasks","curDate","createNewTask","task","actionsFromTask","taskinfo","AppService","appservice","templateId","deleteTemplateById","CreateTask","prepareTemplate","newobj","changeTitle","e","target","value","newTemplate","res","createHandler","placeholder","ButPlay","play","buttonEvent","width","height","fill","viewBox","d","ButPause","pause","ButSave","save","ButClose","close","Task","pad","num","slice","changeTownHandler","towns","find","item","town_title","changeTown","index","changeTaskDesc","changeDesc","clickButton","action","buttonsHandler","taskId","description","town_id","diffsec","duration","Math","trunc","main_but","close_but","task_duration","DurationToStr","task_style","selectValue","colorForSelect","time_start","disabled","map","isfilial","isCurDate","WorkArea","connectDropTarget","isOver","itemTitle","tasks","DropTarget","hover","drop","newTask","dropTarget","isOverCurrent","shallow","canDrop","itemType","getItemType","Report","toDate","fromdate","dateparts","split","scope","rows","template_title","datestart","Authorization","name","pass","pass1","login","isFIOCorrect","isNameCorrect","isPassCorrect","checkData","correct","trim","length","pair","btoa","regHandler","userpass","closeHandler","closeMessage","authHandler","turnReg","inputNameHandler","inputFIOHandler","inputPassHandler","confirmPassHandler","registrationOk","authResult","fioStyle","nameStyle","passStyle","role","aria-live","aria-atomic","aria-label","aria-hidden","autoComplete","Main","task_templates","loaded_template","loaded_tasks","loaded_towns","reportDateStart","reportDateEnd","reports","loaded_report","isAutorizated","userID","localStorage","removeItem","console","log","registrate","authorizate","setItem","loadMainContent","dateStart","dateEnd","getFullYear","getMonth","getDate","newDate","startOrend","townId","newTasks","changeDescription","descValue","curdatestrFull","getHours","getMinutes","getSeconds","loaded_templates","existsActiveTask","array","deleteTemplateHander","new_templates","splice","newTemplateHandler","push","newTaskHandler","curdate","sort","b","undefined","mainContent","DndProvider","backend","HTML5Backend","ReactDOM","render","document","getElementById"],"mappings":"sZAAaA,EACH,gBADGA,EAEH,2B,4BC4BJC,E,4MAEFC,eAAiB,WACb,EAAKC,MAAMC,cAAc,EAAKD,MAAME,eAAgB,EAAKF,MAAMG,SAASC,K,4CAG5E,WAEI,OAAOC,KAAKL,MAAMM,kBAEd,sBAAKC,UAAU,wCAAwCC,WAAYH,KAAKL,MAAMQ,WAA9E,UACI,wBAAQC,KAAK,SAASF,UAAU,QAAQG,eAAa,QAAQC,QAASN,KAAKN,eAA3E,kBACA,wBAAQQ,UAAU,eAAlB,SAAiC,gCAAQF,KAAKL,MAAMG,SAASS,kB,GAZlDC,IAAMC,WC7BlBhB,EDkDAiB,YAAWlB,EA9CH,CAEnBW,WAFmB,SAERR,EAAOgB,GAEhB,OAAOA,EAAQC,UAAUb,KAAOJ,EAAME,gBAGxCgB,UAPmB,SAOTlB,EAAOgB,EAASG,GAMtB,MAJa,CACTP,MAAQZ,EAAMG,SAASS,MACvBR,GAAKJ,EAAMG,SAASC,OAOhC,SAAiBgB,EAASJ,GACtB,MAAO,CACHV,kBAAmBc,EAAQC,aAC3Bb,WAAYQ,EAAQR,gBAyBbO,CAAoDjB,G,iBElDpDwB,G,wNCMXC,MAAQ,CACJC,QAAS,EAAKxB,MAAMwB,S,EAGxBC,WAAa,SAACC,GACV,EAAKC,SAAS,CAAEH,QAASE,IACzB,EAAK1B,MAAMyB,WAAWC,I,EAG1BE,YAAc,WACV,EAAK5B,MAAM6B,Q,4CAGf,WAEI,OAEI,qBAAKtB,UAAU,wDAAf,SACI,sBAAKA,UAAU,cAAf,UACI,sBAAKA,UAAU,eAAf,cAAgCF,KAAKL,MAAM8B,IAA3C,OACA,qBAAKvB,UAAU,UAAf,SACI,cAAC,IAAD,CAAYwB,YAAa,uBAAOtB,KAAK,OAAOF,UAAU,iBAAyByB,SAAU3B,KAAKkB,MAAMC,QAASS,SAAU5B,KAAKoB,eAEhI,8BACI,wBAAQhB,KAAK,SAASF,UAAU,yBAAyBI,QAASN,KAAKuB,YAAvE,uD,GA1BYf,IAAMC,YCJ3BoB,G,mNCMXX,MAAQ,CACJY,UAAW,IAAIC,KACfC,QAAS,IAAID,M,EAGjBE,gBAAkB,SAACZ,GACf,EAAKC,SAAS,CAAEQ,UAAWT,IAC3B,EAAK1B,MAAMuC,iBAAiBb,EAAM,U,EAItCc,cAAgB,SAACd,GACb,EAAKC,SAAS,CAAEU,QAASX,IACzB,EAAK1B,MAAMuC,iBAAiBb,EAAM,Q,EAItCe,OAAS,WACL,EAAKzC,MAAM0C,gB,EAGfC,YAAc,WACV,EAAK3C,MAAM4C,e,4CAGf,WAEI,OACI,qBAAKrC,UAAU,wDAAf,SACI,sBAAKA,UAAU,UAAf,UACI,qBAAKA,UAAU,aAAf,SACI,oBAAIA,UAAU,wBAAd,sDAEJ,qBAAKA,UAAU,aAAf,SACI,cAAC,IAAD,CAAYwB,YAAa,uBAAOtB,KAAK,OAAOF,UAAU,iBAAyByB,SAAU3B,KAAKL,MAAMmC,UAAWF,SAAU5B,KAAKiC,oBAElI,qBAAK/B,UAAU,aAAf,SACI,oBAAIA,UAAU,wBAAd,6BAEJ,qBAAKA,UAAU,aAAf,SACI,cAAC,IAAD,CAAYwB,YAAa,uBAAOtB,KAAK,OAAOF,UAAU,iBAAyByB,SAAU3B,KAAKL,MAAMqC,QAASJ,SAAU5B,KAAKmC,kBAEhI,qBAAKjC,UAAU,aAAf,SACI,wBAAQE,KAAK,SAASF,UAAU,oBAAoBI,QAASN,KAAKoC,OAAlE,wFAEHpC,KAAKL,MAAM6C,YACR,qBAAKtC,UAAU,aAAf,SACI,wBAAQE,KAAK,SAASF,UAAU,kBAAkBI,QAASN,KAAKsC,YAAhE,mE,GAjDQ9B,IAAMC,YCJ3BgC,G,mKCKX,WAEI,OACI,qBAAKvC,UAAY,iBAAjB,8B,GANyBM,IAAMC,Y,yBCFtBiC,E,iDAEjBC,OAAS,SAACC,GAAD,gBAAYpD,EAAZ,YAA8BoD,I,KAEvCC,e,uCAAiB,WAAOC,EAAKC,GAAZ,iCAAAC,EAAA,6DAAwBC,EAAxB,gCAAsCC,EAAtC,+BAA8C,GAEvDC,EAAM,GACNC,EAAU,CACV,eAAgB,oBAEhBH,IACAG,EAAU,CACN,cAAiB,SAAWF,EAC5B,eAAgB,qBATX,SAYPG,MAAMP,EAAK,CACbQ,OAAQ,OACRC,YAAa,UACbH,QAASA,EACTI,KAAMC,KAAKC,UAAUX,KAEpBY,MAAK,SAAAC,GAAM,OAAIA,EAAOC,UACtBF,MAAK,SAAAG,GACFX,EAAMW,KAETC,OAAM,SAAUC,GAKbb,EAJe,CACXc,QAAS,EACTL,OAAQI,MAzBP,gCA8BNb,GA9BM,2C,6DAiCjBe,O,uCAAS,WAAOJ,GAAP,SAAAd,EAAA,sEAEQ,EAAKH,eAAe,EAAKF,OAAO,WAFxC,mF,2DAMTwB,c,uCAAgB,WAAOL,GAAP,SAAAd,EAAA,sEAEC,EAAKH,eAAe,EAAKF,OAAO,SAAU,IAAI,EAAMmB,GAFrD,mF,2DAMhBM,a,uCAAe,WAAON,GAAP,SAAAd,EAAA,sEAEE,EAAKH,eAAe,EAAKF,OAAO,gBAAiBmB,GAFnD,mF,2DAMfO,iB,uCAAmB,WAAOvE,GAAP,SAAAkD,EAAA,sEAEF,EAAKH,eAAe,EAAKF,OAAO,kBAAmB7C,GAFjD,mF,2DAMnBwE,a,sBAAe,sBAAAtB,EAAA,sEAEE,EAAKH,eAAe,EAAKF,OAAO,oBAFlC,mF,KAMf4B,S,sBAAW,sBAAAvB,EAAA,sEAEM,EAAKH,eAAe,EAAKF,OAAO,gBAFtC,mF,KAMX6B,gB,uCAAkB,WAAOC,GAAP,SAAAzB,EAAA,sEAED,EAAKH,eAAe,EAAKF,OAAO,mBAAoB8B,GAFnD,mF,2DAMlBC,S,uCAAW,WAAOC,GAAP,SAAA3B,EAAA,sEAEM,EAAKH,eAAe,EAAKF,OAAO,eAAgBgC,GAFtD,mF,2DAMXC,c,uCAAgB,WAAOC,GAAP,SAAA7B,EAAA,sEAEC,EAAKH,eAAe,EAAKF,OAAO,iBAAkBkC,GAFnD,mF,2DAMhBC,gB,uCAAkB,WAAOC,GAAP,SAAA/B,EAAA,sEAED,EAAKH,eAAe,EAAKF,OAAO,gBAAiBoC,GAFhD,mF,uDC3FDC,E,WAEjB,WAAY5E,GAER,GAFc,oBAEF,QAATA,EAIC,OAHMJ,KAAKiF,sBAAsBvC,IAC7B1C,KAAKiF,WAAa,IAAIvC,GAEnB1C,K,oDAOf,SAAiBF,GACb,OAAOE,KAAKiF,WAAWZ,iBAAiBvE,K,0BAG5C,WACI,OAAOE,KAAKiF,WAAWX,iB,sBAG3B,SAASK,GACL,OAAO3E,KAAKiF,WAAWP,SAASC,K,sBAGpC,WACI,OAAO3E,KAAKiF,WAAWV,a,gCAG3B,SAAmBW,GACf,OAAOlF,KAAKiF,WAAWE,mBAAmBD,K,2BAG9C,SAAcL,GACV,OAAO7E,KAAKiF,WAAWL,cAAcC,K,6BAGzC,SAAgBE,GACZ,OAAO/E,KAAKiF,WAAWH,gBAAgBC,K,6BAG3C,SAAgBN,GACZ,OAAOzE,KAAKiF,WAAWT,gBAAgBC,K,2BAG3C,SAAcX,GACV,OAAO9D,KAAKiF,WAAWd,cAAcL,K,0BAGzC,SAAaA,GACT,OAAO9D,KAAKiF,WAAWb,aAAaN,K,oBAGxC,WACI,OAAO9D,KAAKiF,WAAWf,a,KCxDhBkB,G,mNCMXlE,MAAQ,CACJpB,SAAU,CACNC,GAAI,EACJQ,MAAO,K,EAIf8E,gBAAkB,SAACtF,GACf,IAAMuF,EAAS,GAGf,OAFAA,EAAOvF,GAAKA,EACZuF,EAAO/E,MAAQ,EAAKW,MAAMpB,SAASS,MAC5B+E,G,EAGXC,YAAc,SAACC,GACX,EAAKlE,SAAS,CACVxB,SAAU,CACNC,GAAI,EACJQ,MAAOiF,EAAEC,OAAOC,U,EAK5BC,YAAc,WACV,IAAIX,EAAW,OAAOX,iBAAiB,EAAKnD,MAAMpB,UAAU6D,MAAK,SAACiC,GAC5C,IAAfA,EAAI3B,SACH,EAAKtE,MAAMkG,cAAc,EAAKR,gBAAgBO,EAAIhC,SAClD,EAAKtC,SAAS,CACVxB,SAAU,CACNC,GAAI,EACJQ,MAAO,W,4CAO3B,WAEI,OAEI,sBAAKL,UAAU,8BAAf,UACI,uBAAOE,KAAK,OAAOF,UAAU,eAAe4F,YAAY,yEAAkB/F,GAAG,eAAe2F,MAAO1F,KAAKkB,MAAMpB,SAASS,MAAOqB,SAAU5B,KAAKuF,cAC7I,wBAAQnF,KAAK,SAASF,UAAU,gCAAgCI,QAASN,KAAK2F,YAA9E,qE,GA9CwBnF,IAAMC,YCDzBsF,G,kNAEjBC,KAAO,SAACR,GACJ,EAAK7F,MAAMsG,YAAY,S,4CAG3B,WACI,OACI,wBAAQ7F,KAAK,SAASF,UAAU,0BAA0BI,QAAWN,KAAKgG,KAA1E,SACI,sBAAKE,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAelG,UAAU,iBAAiBmG,QAAQ,YAAnF,UACI,sBAAMC,EAAE,0FACR,sBAAMA,EAAE,2J,GAXS9F,IAAMC,YCAtB8F,E,4MAGjBC,MAAQ,WACJ,EAAK7G,MAAMsG,YAAY,U,4CAG3B,WACI,OACI,wBAAQ7F,KAAK,SAASF,UAAU,0BAA0BI,QAAWN,KAAKwG,MAA1E,SACI,sBAAKN,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAelG,UAAU,kBAAkBmG,QAAQ,YAApF,UACI,sBAAMC,EAAE,8KACR,sBAAMA,EAAE,2J,GAZU9F,IAAMC,WCAvBgG,E,4MAGjBC,KAAO,WACH,EAAK/G,MAAMsG,YAAY,S,4CAG3B,WACI,OACI,wBAAQ7F,KAAK,SAASF,UAAU,0BAA0BI,QAAWN,KAAK0G,KAA1E,SACI,sBAAKR,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAelG,UAAU,YAAYmG,QAAQ,YAA9E,UACI,sBAAMC,EAAE,iFACR,sBAAMA,EAAE,gY,GAZS9F,IAAMC,WCAtBkG,E,4MAEjBC,MAAQ,WACJ,EAAKjH,MAAMsG,YAAY,U,4CAG3B,WACI,OACI,wBAAQ7F,KAAK,SAASF,UAAU,0BAA0BI,QAAWN,KAAK4G,MAA1E,SACI,sBAAKV,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAelG,UAAU,iBAAiBmG,QAAQ,YAAnF,UACI,sBAAMC,EAAE,0EACR,sBAAMA,EAAE,6M,GAXU9F,IAAMC,WCF7BoG,G,mNCSXC,IAAM,SAAUC,GAAO,OAAQ,KAAOA,GAAKC,OAAO,I,EAYlDC,kBAAoB,SAACzB,GACjB,EAAK7F,MAAMuH,MAAMC,MAAK,SAACC,GACfA,EAAKC,aAAe7B,EAAEC,OAAOC,OAAO,EAAK/F,MAAM2H,WAAWF,EAAKrH,GAAI,EAAKJ,MAAM4H,MAAOH,EAAKC,gB,EAItGG,eAAiB,SAAChC,GACd,EAAK7F,MAAM8H,WAAWjC,EAAEC,OAAOC,MAAO,EAAK/F,MAAM4H,Q,EAGrDG,YAAc,SAACC,GACX,EAAKhI,MAAMiI,eACP,CACID,OAAQA,EACR5H,GAAI,EAAKJ,MAAMkF,KAAKgD,OACpBC,YAAa,EAAKnI,MAAMkF,KAAKiD,YAC7BC,QAAS,EAAKpI,MAAMkF,KAAKkD,QACzBR,MAAO,EAAK5H,MAAM4H,S,mDA3B9B,SAAcS,GAEV,IAAIC,EAAW,GAKf,OAJAA,EAAWjI,KAAK8G,IAAIoB,KAAKC,MAAMH,EAAU,OAAS,IAClDA,GAAmD,KAA9BE,KAAKC,MAAMH,EAAU,MAC1CC,EAAWA,EAAWjI,KAAK8G,IAAIoB,KAAKC,MAAMH,EAAU,KAAO,IAC3DA,GAAiD,GAA5BE,KAAKC,MAAMH,EAAU,IACnCC,EAAWjI,KAAK8G,IAAIkB,K,oBAyB/B,WAEI,IAAII,EAAW,GACXC,EAAY,cAAC,EAAD,CAAUpC,YAAajG,KAAK0H,cACxCY,EAAgBtI,KAAKuI,cAAcvI,KAAKL,MAAMkF,KAAKoD,UACxB,IAA3BjI,KAAKL,MAAMkF,KAAKZ,SAChBmE,EAAW,cAAC,EAAD,CAASnC,YAAajG,KAAK0H,eAEX,IAA3B1H,KAAKL,MAAMkF,KAAKZ,SAChBmE,EAAW,cAAC,EAAD,CAAUnC,YAAajG,KAAK0H,cACvCY,EAAgB,IAEW,IAA3BtI,KAAKL,MAAMkF,KAAKZ,SAChBoE,EAAY,IAGhB,IAAIG,EAAa,YACbxI,KAAKL,MAAM4H,MAAQ,IAAM,IACzBiB,EAAa,0BAIjB,IAAIC,EAAczI,KAAKL,MAAMkF,KAAKwC,YAAc,kGAE5CqB,EAAiB,2BAGrB,OAFiC,IAA7B1I,KAAKL,MAAMkF,KAAKkD,UAAgBW,EAAiB,wCAIjD,sBAAKxI,UAAWsI,EAAhB,UAEI,qBAAKtI,UAAU,aAAf,SAA6B,gCAAQF,KAAKL,MAAMkF,KAAKtE,UAErD,qBAAKL,UAAU,YAAf,SAA6BF,KAAKL,MAAMkF,KAAK8D,aACjB,IAA3B3I,KAAKL,MAAMkF,KAAKZ,OACb,qBAAK/D,UAAU,0BAAf,yDACA,qBAAKA,UAAU,aAAf,SAA8BoI,IAElC,qBAAKpI,UAAU,mBAAf,SACI,uBAAOA,UAAU,0BAA0B4F,YAAY,sDAAcJ,MAAO1F,KAAKL,MAAMkF,KAAKiD,YAAalG,SAAU5B,KAAKwH,mBAE5H,qBAAKtH,UAAU,aAAf,SAEI,yBAAQA,UAAWwI,EAAgBhD,MAAO+C,EAAa7G,SAAU5B,KAAKiH,kBAAtE,UACI,wBAAQ2B,UAAQ,EAACjH,UAAQ,EAAzB,6GAEI3B,KAAKL,MAAMuH,MAAM2B,KAAI,SAACzB,EAAMG,GACxB,OAA0B,IAAlBH,EAAK0B,SAAiB,iCAAqB1B,EAAKC,YAAbE,GAAoC,wBAAoBrH,UAAU,WAAW0I,UAAQ,EAAjD,SAAmDxB,EAAKC,YAA3CE,WAM5G,sBAAKrH,UAAU,eAAf,UAEKF,KAAKL,MAAMoJ,WAAaX,EACzB,cAAC,EAAD,CAASnC,YAAajG,KAAK0H,cAC1B1H,KAAKL,MAAMoJ,WAAaV,Y,GA9FX7H,IAAMC,Y,oBCwBlCuI,E,4JACF,WAAU,IAAD,OAEL,OAAOhJ,KAAKL,MAAMsJ,kBACd,sBAAK/I,UAAU,YAAf,UACKF,KAAKL,MAAMuJ,QAAU,qBAAKhJ,UAAU,sBAAf,SAAqC,iCAASF,KAAKL,MAAMwJ,UAAU5I,UAExFP,KAAKL,MAAMyJ,MAAMP,KAAI,SAACzB,EAAMG,GACzB,OAAS,cAAC,EAAD,CAAM1C,KAAMuC,EAAkBG,MAAOA,EAAOL,MAAO,EAAKvH,MAAMuH,MAAOU,eAAgB,EAAKjI,MAAMiI,eAAgBH,WAAc,EAAK9H,MAAM8H,WAAYH,WAAY,EAAK3H,MAAM2H,WAAYyB,UAAa,EAAKpJ,MAAMoJ,WAAzLxB,c,GAR7B/G,IAAMC,WC9BduI,ED+CAK,YAAW7J,EA1CP,CAIf8J,MAJe,SAIT3J,EAAOgB,EAASG,KAItByI,KARe,SAQV5J,EAAOgB,EAASG,GACjBnB,EAAM6J,QAAQ7I,EAAQC,cAI9B,SAAiBG,EAASJ,GACtB,MAAO,CAEHsI,kBAAmBlI,EAAQ0I,aAC3BP,OAAQvI,EAAQuI,SAChBQ,cAAe/I,EAAQuI,OAAO,CAAES,SAAS,IACzCC,QAASjJ,EAAQiJ,UACjBC,SAAUlJ,EAAQmJ,cAClBX,UAAWxI,EAAQC,aAqBZyI,CAAgDL,GE/ChDe,G,mNCKXjD,IAAM,SAAUC,GAAO,OAAQ,KAAOA,GAAKC,OAAO,I,EAElDgD,OAAS,SAACC,GACN,IAAMC,EAAYD,EAASE,MAAM,IAAK,GAAG,GAAGA,MAAM,KAElD,MAAM,GAAN,OAAUD,EAAU,GAApB,YAA0BA,EAAU,GAApC,YAA0CA,EAAU,K,mDAGxD,SAAclC,GAEV,IAAIC,EAAW,GAKf,OAJAA,EAAWjI,KAAK8G,IAAIoB,KAAKC,MAAMH,EAAU,OAAS,IAClDA,GAAmD,KAA9BE,KAAKC,MAAMH,EAAU,MAC1CC,EAAWA,EAAWjI,KAAK8G,IAAIoB,KAAKC,MAAMH,EAAU,KAAO,IAC3DA,GAAiD,GAA5BE,KAAKC,MAAMH,EAAU,IACnCC,EAAWjI,KAAK8G,IAAIkB,K,oBAG/B,WAAU,IAAD,OAGL,OACI,qBAAK9H,UAAU,SAAf,SACI,qBAAKA,UAAU,eAAf,SACI,wBAAOA,UAAU,oBAAjB,UACI,gCACI,+BACI,oBAAIkK,MAAM,MAAV,2HACA,oBAAIA,MAAM,MAAV,gFACA,oBAAIA,MAAM,MAAV,kIACA,oBAAIA,MAAM,MAAV,sCACA,oBAAIA,MAAM,MAAV,2FAGR,gCACKpK,KAAKL,MAAM0K,KAAKxB,KAAI,SAACzB,EAAMG,GACxB,OACI,+BACI,6BAAKH,EAAKkD,iBACV,6BAAKlD,EAAKU,cACV,6BAAKV,EAAKC,aACV,6BAAK,EAAK2C,OAAO5C,EAAKmD,aACtB,6BAAK,EAAKhC,cAAcnB,EAAKa,+B,GA7CjCzH,IAAMC,YCF3B+J,G,mNCIXtJ,MAAQ,CACJuJ,KAAM,GACNC,KAAM,GACNjJ,IAAK,GACLkJ,MAAO,GACPC,OAAO,EACPC,cAAc,EACdC,eAAe,EACfC,eAAe,G,EAGnBC,UAAY,WAAO,IAAD,EACqB,EAAK9J,MAAhCO,EADM,EACNA,IAAKgJ,EADC,EACDA,KAAMC,EADL,EACKA,KAAMC,EADX,EACWA,MACrBM,GAAU,EA0Bd,OAzBIxJ,EAAIyJ,OAAOC,OAAS,IACpBF,GAAU,EACV,EAAK3J,SAAS,CAAEuJ,cAAc,KAG9BJ,EAAKS,OAAOC,OAAS,IACrBF,GAAU,EACV,EAAK3J,SAAS,CAAEwJ,eAAe,MAG/BJ,EAAKQ,OAAOC,OAAS,GAAKT,IAASC,KACnCM,GAAU,EACV,EAAK3J,SAAS,CAAEyJ,eAAe,KAG/BE,GACA,EAAK3J,SACD,CACIuJ,cAAc,EACdC,eAAe,EACfC,eAAe,IAKpBE,G,EAGX7G,aAAe,WACX,GAAI,EAAK4G,YAAa,CAClB,IAAII,EAAO,GACX,IACIA,EAAOC,KAAK,GAAD,OAAI,EAAKnK,MAAMuJ,KAAf,YAAuB,EAAKvJ,MAAMwJ,OAEjD,SAOI,YANA,EAAKpJ,SACD,CACIwJ,eAAe,EACfC,eAAe,IAKvB,EAAKpL,MAAM2L,WAAW,CAAE7J,IAAK,EAAKP,MAAMO,IAAK8J,SAAUH,KACvD,EAAK9J,SAAS,CACVmJ,KAAM,GACNC,KAAM,GACNjJ,IAAK,GACLkJ,MAAO,GACPC,OAAO,M,EAMvBY,aAAe,WACX,EAAK7L,MAAM8L,eACN,EAAKvK,MAAM0J,OAAO,EAAKtJ,SAAS,CACjCuJ,cAAc,EACdC,eAAe,EACfC,eAAe,EACfH,OAAO,EACPH,KAAM,GACNC,KAAM,GACNjJ,IAAK,GACLkJ,MAAO,M,EAIfC,MAAQ,WACJ,IAAIQ,EAAO,GACP,IACIA,EAAOC,KAAK,GAAD,OAAI,EAAKnK,MAAMuJ,KAAf,YAAuB,EAAKvJ,MAAMwJ,OAEjD,SAOI,YANA,EAAKpJ,SACD,CACIwJ,eAAe,EACfC,eAAe,IAK/B,EAAKpL,MAAM+L,YAAYN,I,EAG3BO,QAAU,WACN,EAAKrK,SAAS,CACVmJ,KAAM,GACNC,KAAM,GACNjJ,IAAK,GACLkJ,MAAO,GACPC,OAAO,K,EAIfgB,iBAAmB,SAACpG,GAGZ,EAAKlE,SAAS,CAAEmJ,KAAMjF,EAAEC,OAAOC,S,EAGvCmG,gBAAkB,SAACrG,GACf,EAAKlE,SAAS,CAAEG,IAAK+D,EAAEC,OAAOC,S,EAGlCoG,iBAAmB,SAACtG,GAGZ,EAAKlE,SAAS,CAAEoJ,KAAMlF,EAAEC,OAAOC,S,EAGvCqG,mBAAqB,SAACvG,GAClB,EAAKlE,SAAS,CAAEqJ,MAAOnF,EAAEC,OAAOC,S,4CAGpC,WAAU,IAAD,EAEiF1F,KAAKkB,MAAnFuJ,EAFH,EAEGA,KAAMC,EAFT,EAESA,KAAME,EAFf,EAEeA,MAAOnJ,EAFtB,EAEsBA,IAAKkJ,EAF3B,EAE2BA,MAAOE,EAFlC,EAEkCA,aAAcE,EAFhD,EAEgDA,cAAeD,EAF/D,EAE+DA,cAF/D,EAGkC9K,KAAKL,MAApCqM,EAHH,EAGGA,eAAgBC,EAHnB,EAGmBA,WAEpBC,EAAW,eACVrB,IAAcqB,EAAW,2BAC9B,IAAIC,EAAY,eACXrB,IAAeqB,EAAY,2BAChC,IAAIC,EAAY,eAEhB,OADKrB,IAAeqB,EAAY,2BAG5B,sBAAKlM,UAAU,wBAAwBmM,KAAK,QAAQC,YAAU,YAAYC,cAAY,OAAtF,UACI,sBAAKrM,UAAU,eAAf,UACI,wBAAQA,UAAU,UAAlB,0GACA,wBAAQE,KAAK,SAASF,UAAU,kBAAkBG,eAAa,QAAQmM,aAAW,QAAQlM,QAASN,KAAKwL,aAAxG,SACI,sBAAMiB,cAAY,OAAlB,uBAGR,sBAAKvM,UAAU,aAAf,WACM0K,IAAUoB,GACR,qBAAK9L,UAAU,kCAAf,SACI,uBAAOE,KAAK,OAAOsF,MAAOjE,EAAKvB,UAAWgM,EAAUnM,GAAG,aAAa6B,SAAU5B,KAAK6L,gBAAiBa,aAAa,MAAM5G,YAAY,0BAGzIkG,GACE,qBAAK9L,UAAU,kCAAf,SACI,uBAAOE,KAAK,OAAOsF,MAAO+E,EAAMvK,UAAWiM,EAAWpM,GAAG,aAAa6B,SAAU5B,KAAK4L,iBAAkBc,aAAa,MAAM5G,YAAY,mGAG5IkG,GACE,qBAAK9L,UAAU,kCAAf,SACI,uBAAOE,KAAK,WAAWsF,MAAOgF,EAAMxK,UAAWkM,EAAWrM,GAAG,wBAAwB6B,SAAU5B,KAAK8L,iBAAkBY,aAAa,MAAM5G,YAAY,4CAI3J8E,IAAUoB,GACR,qBAAK9L,UAAU,kCAAf,SACI,uBAAOE,KAAK,WAAWsF,MAAOiF,EAAOzK,UAAWkM,EAAWrM,GAAG,wBAAwB6B,SAAU5B,KAAK+L,mBAAoBW,aAAa,MAAM5G,YAAY,iFAI/J8E,IAAUoB,GACP,sBAAK9L,UAAU,WAAf,UAEI,wBAAQE,KAAK,SAASF,UAAU,+BAA+BI,QAASN,KAAK4K,MAA7E,sCACA,wBAAQxK,KAAK,SAASF,UAAU,6BAA6BI,QAASN,KAAK2L,QAA3E,oFAGNf,IAAUoB,GACR,qBAAK9L,UAAU,WAAf,SAEI,wBAAQE,KAAK,SAASF,UAAU,+BAA+BI,QAASN,KAAKoE,aAA7E,uEAKH6H,GAAcrB,GACf,qBAAK1K,UAAU,oDAAf,SAEI,+KAIJ8L,GACA,sBAAK9L,UAAU,qDAAf,UAEI,gKAFJ,6Q,GAtMmBM,IAAMC,YCFlCkM,G,0NCiBXzL,MAAQ,CACJ0L,eAAgB,GAChBxD,MAAO,GACPlC,MAAO,GACP2F,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACd5L,QAAS,IAAIY,KACbiL,gBAAiB,IAAIjL,KACrBkL,cAAe,IAAIlL,KACnBmL,QAAS,GACTC,eAAe,EACfC,eAAe,EACfpB,gBAAgB,EAChBqB,OAAQ,GACRpB,YAAY,G,EAGhBnF,IAAM,SAAUC,GAAO,OAAQ,KAAOA,GAAKC,OAAO,I,EAElDzE,YAAc,WACV,EAAKjB,SAAS,CAAE6L,eAAe,K,EAGnC3L,KAAO,WAEH,IAAIwD,EAAW,OAAOd,SAASP,MAAK,SAACiC,GAEd,IAAfA,EAAI3B,QACJ,EAAK3C,SAAS,CACV8L,eAAe,IAEnBE,aAAaC,WAAW,QAGxBC,QAAQC,IAAI7H,EAAI3B,Y,EAK5BwH,aAAe,WACX,EAAKnK,SAAS,CAAE0K,gBAAgB,K,EAGpC0B,WAAa,SAAC5J,GAEV,IAAIkB,EAAW,OAAOZ,aAAaN,GAAMH,MAAK,SAACiC,GAC3C,GAAmB,IAAfA,EAAI3B,OAGJ,OADA,EAAK3C,SAAS,CAAE0K,gBAAgB,KACzB,EAGPwB,QAAQC,IAAI7H,EAAIhC,Y,EAO5B+J,YAAc,SAAC7J,GAEX,EAAKxC,SAAS,CAAE2K,YAAY,IAC5B,IAAIjH,EAAW,OAAOb,cAAcL,GAAMH,MAAK,SAACiC,GACzB,IAAfA,EAAI3B,QACJ,EAAK3C,SAAS,CACV8L,eAAe,EACfC,OAAQzH,EAAIhC,SAEhB0J,aAAaM,QAAQ,MAAOhI,EAAIhC,QAChC,EAAKiK,mBAIL,EAAKvM,SAAS,CAAE2K,YAAY,Q,EAKxC5J,aAAe,WAEX,IAAMyL,EAAY,EAAK5M,MAAM8L,gBACvBe,EAAU,EAAK7M,MAAM+L,cACrBxI,EAAQ,CACVuI,gBAAgB,GAAD,OAAKc,EAAUE,cAAf,YAAgC,EAAKlH,IAAIgH,EAAUG,WAAa,GAAhE,YAAsE,EAAKnH,IAAIgH,EAAUI,WAAzF,aACfjB,cAAc,GAAD,OAAKc,EAAQC,cAAb,YAA8B,EAAKlH,IAAIiH,EAAQE,WAAa,GAA5D,YAAkE,EAAKnH,IAAIiH,EAAQG,WAAnF,cAEjB,IAAIlJ,EAAW,OAAOR,gBAAgBC,GAAOd,MAAK,SAACiC,GAE5B,IAAfA,EAAI3B,QACJ,EAAK3C,SAAS,CACV4L,QAAStH,EAAIhC,OACbuJ,eAAe,Q,EAM/BjL,iBAAmB,SAACiM,EAASC,GACN,UAAfA,GAAwB,EAAK9M,SAAS,CAAE0L,gBAAiBmB,IAC1C,QAAfC,GAAsB,EAAK9M,SAAS,CAAE2L,cAAekB,K,EAG7D7G,WAAa,SAAC+G,EAAQ9G,EAAOF,GAEzB,IAAMiH,EAAQ,YAAO,EAAKpN,MAAMkI,OAChCkF,EAAS/G,GAAOQ,QAAUsG,EAC1BC,EAAS/G,GAAOF,WAAaA,EAC7B,EAAK/F,SAAS,CAAE8H,MAAOkF,K,EAG3BC,kBAAoB,SAACC,EAAWjH,GAE5B,IAAM+G,EAAQ,YAAO,EAAKpN,MAAMkI,OAChCkF,EAAS/G,GAAOO,YAAc0G,EAC9B,EAAKlN,SAAS,CAAE8H,MAAOkF,K,EAa3BT,gBAAkB,WAAO,IAAD,EACe,EAAK3M,MAAhCC,EADY,EACZA,QAASiM,EADG,EACHA,cACXqB,EAAc,UAAMtN,EAAQ6M,cAAd,YAA+B,EAAKlH,IAAI3F,EAAQ8M,WAAa,GAA7D,YAAmE,EAAKnH,IAAI3F,EAAQ+M,WAApF,YAAkG,EAAKpH,IAAI3F,EAAQuN,YAAnH,YAAkI,EAAK5H,IAAI3F,EAAQwN,cAAnJ,YAAoK,EAAK7H,IAAI3F,EAAQyN,eACrMxB,IACA,IAAIpI,EAAW,OAAOV,eAAeX,MAAK,SAACiC,GACpB,IAAfA,EAAI3B,OACJ,EAAK3C,SAAS,CACVsL,eAAgBhH,EAAIhC,OACpBiL,kBAAkB,KAGD,IAAhBjJ,EAAI3B,QACT,EAAK3C,SAAS,CAAE8L,eAAe,OAIvC,IAAIpI,EAAW,OAAON,SAAS,CAAEC,QAAS8J,IAAkB9K,MAAK,SAACiC,GAC3C,IAAfA,EAAI3B,OACJ,EAAK3C,SAAS,CACV8H,MAAOxD,EAAIhC,OACXkJ,cAAc,KAGG,IAAhBlH,EAAI3B,QACT,EAAK3C,SAAS,CAAE8L,eAAe,OAIvC,IAAIpI,EAAW,OAAOT,WAAWZ,MAAK,SAACiC,GAChB,IAAfA,EAAI3B,OACJ,EAAK3C,SAAS,CACV4F,MAAOtB,EAAIhC,OACXmJ,cAAc,KAGG,IAAhBnH,EAAI3B,QACT,EAAK3C,SAAS,CAAE8L,eAAe,S,EAc/C0B,iBAAmB,SAACC,GAChB,OAAIA,EAAM5D,OAAS,GACS,IAApB4D,EAAM,GAAG9K,Q,EAKrB+K,qBAAuB,SAACzH,EAAOxH,GAC3B,IAAIiF,EAAW,OAAOG,mBAAmBpF,GAAI4D,MAAK,SAACiC,GAC/C,IAAMqJ,EAAgB,EAAK/N,MAAM0L,eACjCqC,EAAcC,OAAO3H,EAAO,GAC5B,EAAKjG,SAAS,CAAEsL,eAAgBqC,Q,EAKxCE,mBAAqB,SAACrP,GAClB,IAAMmP,EAAa,YAAO,EAAK/N,MAAM0L,gBACrCqC,EAAcG,KAAKtP,GACnB,EAAKwB,SAAS,CAAEsL,eAAgBqC,K,EAGpCI,eAAiB,SAAC7F,GACd,IAAM8F,EAAU,IAAIvN,KACd0M,EAAc,UAAMa,EAAQtB,cAAd,YAA+B,EAAKlH,IAAIwI,EAAQrB,WAAa,GAA7D,YAAmE,EAAKnH,IAAIwI,EAAQpB,WAApF,YAAkG,EAAKpH,IAAIwI,EAAQZ,YAAnH,YAAkI,EAAK5H,IAAIwI,EAAQX,cAAnJ,YAAoK,EAAK7H,IAAIwI,EAAQV,eACzM,IAAI5J,EAAW,OAAOJ,cAAc,CAAE7E,GAAIyJ,EAAQzJ,GAAIwK,UAAWkE,IAAkB9K,MAAK,SAACiC,GACrF4D,EAAQb,WAAR,UAAwB,EAAK7B,IAAIwI,EAAQZ,YAAzC,YAAwD,EAAK5H,IAAIwI,EAAQX,cAAzE,YAA0F,EAAK7H,IAAIwI,EAAQV,eAC3GpF,EAAQvF,OAAS,EACjBuF,EAAQ3B,OAASjC,EAAIhC,OACrB4F,EAAQ1B,YAAc,GACtB0B,EAAQzB,SAAW,EACnByB,EAAQnC,WAAa,KACrB,IAAMiH,EAAQ,YAAO,EAAKpN,MAAMkI,OAC5B,EAAK0F,iBAAiBR,KACtBA,EAAS,GAAGrK,OAAS,EACrBqK,EAAS,GAAGrG,SAAWrC,EAAIqC,UAG/BqG,EAASc,KAAK5F,GACd,EAAKlI,SAAS,CAAE8H,MAAOkF,EAASiB,MAAK,SAACvM,EAAGwM,GAAJ,OAAUA,EAAEvL,OAASjB,EAAEiB,gB,EAKpE2D,eAAiB,SAACR,GACd,IAAMkH,EAAQ,YAAO,EAAKpN,MAAMkI,OAC1BkG,EAAU,IAAIvN,KACd0M,EAAc,UAAMa,EAAQtB,cAAd,YAA+B,EAAKlH,IAAIwI,EAAQrB,WAAa,GAA7D,YAAmE,EAAKnH,IAAIwI,EAAQpB,WAApF,YAAkG,EAAKpH,IAAIwI,EAAQZ,YAAnH,YAAkI,EAAK5H,IAAIwI,EAAQX,cAAnJ,YAAoK,EAAK7H,IAAIwI,EAAQV,eACzM,OAAQxH,EAAKO,QACT,IAAK,QACD,IAAI3C,EAAW,OAAOF,gBAAgB,CAAE/E,GAAIqH,EAAKrH,GAAIsB,KAAMoN,EAAgB9G,OAAQ,UAAWhE,MAAK,SAACiC,GAChG0I,EAASlH,EAAKG,OAAOtD,OAAS,EAC9BqK,EAASlH,EAAKG,OAAOU,SAAWrC,EAAIqC,SACpC,EAAK3G,SAAS,CAAE8H,MAAOkF,OAG3B,MACJ,IAAK,OACD,IAAItJ,EAAW,OAAOF,gBAAgB,CAAE/E,GAAIqH,EAAKrH,GAAIsB,KAAMoN,EAAgB9G,OAAQ,SAAUhE,MAAK,SAACiC,GACpE,IAAvB0I,EAAS,GAAGrK,SACZqK,EAAS,GAAGrK,OAAS,EACrBqK,EAAS,GAAGrG,SAAWrC,EAAIqC,UAE/BqG,EAASlH,EAAKG,OAAOtD,OAAS,EAC9BqK,EAASiB,MAAK,SAACvM,EAAGwM,GAAJ,OAAUA,EAAEvL,OAASjB,EAAEiB,UACrC,EAAK3C,SAAS,CAAE8H,MAAOkF,OAG3B,MACJ,IAAK,QACD,IAAItJ,EAAW,OAAOF,gBAAgB,CAAE/E,GAAIqH,EAAKrH,GAAIsB,KAAMoN,EAAgB9G,OAAQ,UAAWhE,MAAK,SAACiC,GAChG0I,EAASlH,EAAKG,OAAOtD,OAAS,EAC9BqK,EAASlH,EAAKG,OAAOU,SAAWrC,EAAIqC,SACpCqG,EAASiB,MAAK,SAACvM,EAAGwM,GAAJ,OAAUA,EAAEvL,OAASjB,EAAEiB,UACrC,EAAK3C,SAAS,CAAE8H,MAAOkF,OAE3B,MAEJ,IAAK,OACD,IAAItJ,EAAW,OAAOF,gBAAgB,CAAE/E,GAAIqH,EAAKrH,GAAI+H,YAAaV,EAAKU,YAAaC,QAASX,EAAKW,QAASJ,OAAQ,SAAUhE,MAAK,SAACiC,GAC7G,IAAfA,EAAI3B,QAAcuJ,QAAQC,IAAI7H,EAAIhC,a,EAarDxC,WAAa,SAACC,GACV,IAAMoN,EAAc,UAAMpN,EAAK2M,cAAX,YAA4B,EAAKlH,IAAIzF,EAAK4M,WAAa,GAAvD,YAA6D,EAAKnH,IAAIzF,EAAK6M,WAA3E,YAAyF,EAAKpH,IAAIzF,EAAKqN,YAAvG,YAAsH,EAAK5H,IAAIzF,EAAKsN,cAApI,YAAqJ,EAAK7H,IAAIzF,EAAKuN,eACvL,IAAI5J,EAAW,OAAON,SAAS,CAAEC,QAAS8J,IAAkB9K,MAAK,SAACiC,GAE3C,IAAfA,EAAI3B,QACJ,EAAK3C,SAAS,CACVH,QAASE,EACT+H,MAAOxD,EAAIhC,OACXuJ,eAAe,Q,mDAjK/B,SAAcnF,GAEV,IAAIC,EAAW,GAKf,OAJAA,EAAWjI,KAAK8G,IAAIoB,KAAKC,MAAMH,EAAU,OAAS,IAClDA,GAAmD,KAA9BE,KAAKC,MAAMH,EAAU,MAC1CC,EAAWA,EAAWjI,KAAK8G,IAAIoB,KAAKC,MAAMH,EAAU,KAAO,IAC3DA,GAAiD,GAA5BE,KAAKC,MAAMH,EAAU,IACnCC,EAAWjI,KAAK8G,IAAIkB,K,+BA6C/B,gBACuCyH,IAAhCnC,aAAa1M,QAAQ,QACpBZ,KAAKsB,SAAU,CAAC+L,OAASC,aAAa1M,QAAQ,SAElDZ,KAAK6N,oB,oBA+GT,WAAU,IAAD,SAEuL7N,KAAKkB,MAAzL0L,EAFH,EAEGA,eAAgBiC,EAFnB,EAEmBA,iBAAkB/B,EAFrC,EAEqCA,aAAc3L,EAFnD,EAEmDA,QAAS+F,EAF5D,EAE4DA,MAAO6F,EAFnE,EAEmEA,aAAcI,EAFjF,EAEiFA,cAAeD,EAFhG,EAEgGA,QAASF,EAFzG,EAEyGA,gBAAiBC,EAF1H,EAE0HA,cAAeG,EAFzI,EAEyIA,cAAepB,EAFxJ,EAEwJA,eAAgBC,EAFxK,EAEwKA,WACvKlD,EAAa5H,EAAQ6M,iBAAkB,IAAIjM,MAAOiM,eAAiB7M,EAAQ8M,cAAe,IAAIlM,MAAOkM,YAAc9M,EAAQ+M,aAAc,IAAInM,MAAOmM,UACtJwB,EAAc,cAAC,EAAD,IAsBlB,OArBKvC,GAAiB0B,GAAoB/B,GAAgBC,IACtD2C,EAAc,cAACC,EAAA,EAAD,CAAaC,QAASC,IAAtB,SACV,sBAAK3P,UAAU,OAAf,UACI,cAAC,EAAD,CAAUkJ,MAAOpJ,KAAKkB,MAAMkI,MAAOlC,MAAOA,EAAOsC,QAASxJ,KAAKqP,eAAgBzH,eAAgB5H,KAAK4H,eAAgBH,WAAYzH,KAAKuO,kBAAmBjH,WAAYtH,KAAKsH,WAAYyB,UAAWA,IAChM,sBAAK7I,UAAU,WAAf,UAEI,cAAC,EAAD,CAAY2F,cAAe7F,KAAKmP,qBAChC,qBAAKjP,UAAU,gBAAf,SACK6I,GACG6D,EAAe/D,KAAI,SAACzB,EAAMG,GACtB,OAAQ,cAAC,EAAD,CAA0BzH,SAAUsH,EAAMvH,eAAgB0H,EAAO3H,cAAe,EAAKoP,sBAAlEzH,iBAQnD4F,IACAuC,EAAc,cAAC,EAAD,CAAQrF,KAAM6C,KAG5B,sBAAKhN,UAAU,UAAf,WACMkN,GAAiB,cAAC,EAAD,CAAe1B,YAAa1L,KAAK2N,YAAa3B,eAAgBA,EAAgBV,WAAYtL,KAAK0N,WAAYjC,aAAczL,KAAKyL,aAAcQ,WAAYA,IAC1KmB,GAAiB,cAAC,EAAD,CAAQjM,QAASnB,KAAKkB,MAAMC,QAASM,IAAKzB,KAAKkB,MAAMmM,OAAQjM,WAAYpB,KAAKoB,WAAYI,KAAMxB,KAAKwB,OACtH4L,GAAiBsC,EACjBtC,GAAiB,cAAC,EAAD,CAAQlL,iBAAkBlC,KAAKkC,iBAAkBJ,UAAWkL,EAAiBhL,QAASiL,EAAe5K,aAAcrC,KAAKqC,aAAcE,YAAavC,KAAKuC,YAAaC,WAAY2K,W,GA/TjL3M,IAAMC,YCXxCqP,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,U","file":"static/js/main.10e05e18.chunk.js","sourcesContent":["export const ItemTypes = {\r\n    TASK: 'task_template',\r\n    PATH: 'http://192.168.1.10:3001'\r\n  }","import React from 'react'\r\nimport { ItemTypes } from '../constants/constants'\r\nimport { DragSource } from 'react-dnd'\r\nimport './task_template.css'\r\n\r\nconst TemplateSource = {\r\n   \r\n    isDragging(props, monitor) {\r\n     \r\n      return monitor.getItem().id === props.template_index\r\n    },\r\n\r\n    beginDrag(props, monitor, component) {\r\n\r\n        const item = {\r\n            title : props.template.title,\r\n            id : props.template.id\r\n        }\r\n        return item\r\n    },\r\n\r\n}\r\n\r\nfunction collect(connect, monitor) {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging()\r\n    }\r\n}\r\n\r\nclass TaskTemplate extends React.Component {\r\n\r\n    deleteTemplate = () => {\r\n        this.props.deleteHandler(this.props.template_index, this.props.template.id)\r\n    }\r\n\r\n    render() {\r\n\r\n        return this.props.connectDragSource(\r\n\r\n            <div className='alert alert-dismissible alert-success' isDragging={this.props.isDragging}>\r\n                <button type='button' className='close' data-dismiss='alert' onClick={this.deleteTemplate}>&times;</button>\r\n                <strong className='unselectable'><small>{this.props.template.title}</small></strong>\r\n            </div>\r\n\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default DragSource(ItemTypes.TASK, TemplateSource, collect)(TaskTemplate)","import TaskTemplate from './task_template'\r\nexport default TaskTemplate","import Header from './header'\r\nexport default Header","import React from 'react'\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport './header.css'\r\n\r\nexport default class Header extends React.Component {\r\n\r\n    state = {\r\n        navDate: this.props.navDate\r\n    }\r\n\r\n    changeDate = (date) => {\r\n        this.setState({ navDate: date })\r\n        this.props.changeDate(date)\r\n    }\r\n\r\n    exitHandles = () => {\r\n        this.props.exit()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <nav className='navbar navbar-expand-lg navbar-dark bg-primary header'>\r\n                <div className='navbar_wrap'>\r\n                    <div className='navbar-brand'> {this.props.fio} </div>\r\n                    <div className='navDate'>\r\n                        <DatePicker customInput={<input type='text' className='form-control'></input>} selected={this.state.navDate} onChange={this.changeDate} />\r\n                    </div>\r\n                    <div>\r\n                        <button type='button' className='btn btn-warning btn-sm' onClick={this.exitHandles} >Выход</button>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n\r\n        )\r\n\r\n    }\r\n\r\n}","import Footer from './footer'\r\nexport default Footer","import React from 'react'\r\nimport './footer.css'\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\n\r\nexport default class Footer extends React.Component {\r\n\r\n    state = {\r\n        startDate: new Date(),\r\n        endDate: new Date()\r\n    }\r\n\r\n    changeStartDate = (date) => {\r\n        this.setState({ startDate: date })\r\n        this.props.chandeReportDate(date, 'start')\r\n        //this.props.changeDate(date)\r\n    }\r\n\r\n    changeEndDate = (date) => {\r\n        this.setState({ endDate: date })\r\n        this.props.chandeReportDate(date, 'end')\r\n        //this.props.changeDate(date)\r\n    }\r\n\r\n    report = () => {\r\n        this.props.createReport()\r\n    }\r\n\r\n    closeHanler = () => {\r\n        this.props.closeReport()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <nav className='navbar navbar-expand-lg navbar-dark bg-primary footer'>\r\n                <div className='navDate'>\r\n                    <div className='margin_mod'>\r\n                        <h6 className='date-title text-white'>Отчет с:</h6>\r\n                    </div>\r\n                    <div className='margin_mod'>\r\n                        <DatePicker customInput={<input type='text' className='form-control'></input>} selected={this.props.startDate} onChange={this.changeStartDate} />\r\n                    </div>\r\n                    <div className='margin_mod'>\r\n                        <h6 className='date-title text-white'>по:</h6>\r\n                    </div>\r\n                    <div className='margin_mod'>\r\n                        <DatePicker customInput={<input type='text' className='form-control'></input>} selected={this.props.endDate} onChange={this.changeEndDate} />\r\n                    </div>\r\n                    <div className='margin_mod'>\r\n                        <button type=\"button\" className='btn btn-secondary' onClick={this.report}>Сформировать</button>\r\n                    </div>\r\n                    {this.props.reportStat &&\r\n                        <div className='margin_mod'>\r\n                            <button type=\"button\" className='btn btn-warning' onClick={this.closeHanler}>Закрыть</button>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}","import Loading from './loading'\r\nexport default Loading","import React from 'react'\r\nimport './loading.css'\r\n\r\nexport default class Loading extends React.Component {\r\n\r\n\r\n    render() {\r\n\r\n        return(\r\n            <div className = 'load jumbotron' > Loading... </div>\r\n        )\r\n\r\n    }\r\n\r\n}","import {ItemTypes} from '../../components/constants/constants'\r\nexport default class DevService {\r\n\r\n    domain = (req) => `${ItemTypes.PATH}/${req}`\r\n\r\n    getDataFromURL = async (url, inputdata , auth = false, token = '') => {\r\n\r\n        let ans = {}\r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n        if (auth) {\r\n            headers = {\r\n                'authorization': 'Basic ' + token,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        await fetch(url, {\r\n            method: 'post',\r\n            credentials: 'include',\r\n            headers: headers,\r\n            body: JSON.stringify(inputdata)\r\n        })\r\n            .then(result => result.json())\r\n            .then(data => {\r\n                ans = data\r\n            })\r\n            .catch(function (error) {\r\n                const badRes = {\r\n                    status: -1,\r\n                    result: error\r\n                }\r\n                ans = badRes\r\n            });\r\n\r\n        return ans\r\n    };\r\n\r\n    logout = async (data) => {\r\n\r\n        return await this.getDataFromURL(this.domain('logout')) \r\n\r\n    }\r\n\r\n    authorization = async (data) => {\r\n\r\n        return await this.getDataFromURL(this.domain('login'), {}, true, data)\r\n\r\n    }\r\n\r\n    registration = async (data) => {\r\n\r\n        return await this.getDataFromURL(this.domain('registration'), data)\r\n\r\n    }\r\n\r\n    saveTaskTemplate = async (template) => {\r\n\r\n        return await this.getDataFromURL(this.domain('createTemplate'), template)\r\n\r\n    }\r\n\r\n    getTemplates = async () => {\r\n\r\n        return await this.getDataFromURL(this.domain('getAllTemplates'))\r\n\r\n    }\r\n\r\n    getTowns = async () => {\r\n\r\n        return await this.getDataFromURL(this.domain('getAllTowns'))\r\n\r\n    }\r\n\r\n    reportTasksDays = async (dates) => {\r\n\r\n        return await this.getDataFromURL(this.domain('reportTasksDays'), dates)\r\n\r\n    }\r\n\r\n    getTasks = async (curDate) => {\r\n\r\n        return await this.getDataFromURL(this.domain('getAllTasks'), curDate)\r\n\r\n    }\r\n\r\n    createNewTask = async (task) => {\r\n\r\n        return await this.getDataFromURL(this.domain('createNewTask'), task)\r\n\r\n    }\r\n\r\n    actionsFromTask = async (taskinfo) => {\r\n\r\n        return await this.getDataFromURL(this.domain('controllTask'), taskinfo)\r\n      \r\n    }\r\n\r\n}\r\n\r\n","import DevService from './dev-service/dev-service.js'\r\nexport default class AppService {\r\n\r\n    constructor(type){\r\n        \r\n        if(type === 'dev'){\r\n            if (!(this.appservice instanceof DevService)){\r\n                this.appservice = new DevService()\r\n            }   \r\n            return this \r\n        }\r\n\r\n    }\r\n\r\n   \r\n\r\n    saveTaskTemplate(template) {\r\n        return this.appservice.saveTaskTemplate(template)\r\n    }\r\n\r\n    getTemplates() {\r\n        return this.appservice.getTemplates()\r\n    }\r\n\r\n    getTasks(curDate) {\r\n        return this.appservice.getTasks(curDate)\r\n    }\r\n\r\n    getTowns() {\r\n        return this.appservice.getTowns()\r\n    }\r\n\r\n    deleteTemplateById(templateId) {\r\n        return this.appservice.deleteTemplateById(templateId)\r\n    }\r\n\r\n    createNewTask(task) {\r\n        return this.appservice.createNewTask(task)\r\n    }\r\n\r\n    actionsFromTask(taskinfo) {\r\n        return this.appservice.actionsFromTask(taskinfo)\r\n    }\r\n\r\n    reportTasksDays(dates) {\r\n        return this.appservice.reportTasksDays(dates)\r\n    }\r\n\r\n    authorization(data) {\r\n        return this.appservice.authorization(data)\r\n    }\r\n\r\n    registration(data) {\r\n        return this.appservice.registration(data)\r\n    }\r\n\r\n    logout() {\r\n        return this.appservice.logout()\r\n    }\r\n\r\n}","import CreateTask from './create_task'\r\nexport default CreateTask","import React from 'react'\r\nimport AppService from '../../services/app-service'\r\nimport './create_task.css'\r\n\r\nexport default class CreateTask extends React.Component {\r\n\r\n\r\n    state = {\r\n        template: {\r\n            id: 0,\r\n            title: ''\r\n        }\r\n    }\r\n\r\n    prepareTemplate = (id) => {\r\n        const newobj = {}\r\n        newobj.id = id\r\n        newobj.title = this.state.template.title\r\n        return newobj\r\n    }\r\n\r\n    changeTitle = (e) => {\r\n        this.setState({\r\n            template: {\r\n                id: 0,\r\n                title: e.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    newTemplate = () => {\r\n        new AppService('dev').saveTaskTemplate(this.state.template).then((res) => {\r\n            if(res.status === 0){\r\n                this.props.createHandler(this.prepareTemplate(res.result))\r\n                this.setState({\r\n                    template: {\r\n                        id: 0,\r\n                        title: ''\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div className='form-group create_task__mod'>\r\n                <input type=\"text\" className='form-control' placeholder=\"Новая задача...\" id='inputDefault' value={this.state.template.title} onChange={this.changeTitle}></input>\r\n                <button type=\"button\" className='btn btn-primary btn__paddings' onClick={this.newTemplate}>Добавить</button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport './but.css'\r\n\r\nexport default class ButPlay extends React.Component {\r\n\r\n    play = (e) => {\r\n        this.props.buttonEvent('play')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button type='button' className='btn btn-outline-success' onClick = {this.play}>\r\n                <svg width='32' height='32' fill='currentColor' className='bi bi-play-btn' viewBox='0 0 16 16'>\r\n                    <path d='M6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z' />\r\n                    <path d='M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z' />\r\n                </svg>\r\n            </button>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport './but.css'\r\n\r\nexport default class ButPause extends React.Component {\r\n\r\n\r\n    pause = () => {\r\n        this.props.buttonEvent('pause')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button type='button' className='btn btn-outline-warning' onClick = {this.pause} >\r\n                <svg width=\"32\" height=\"32\" fill=\"currentColor\" className='bi bi-pause-btn' viewBox=\"0 0 16 16\">\r\n                    <path d=\"M6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z\" />\r\n                    <path d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z\" />\r\n                </svg>\r\n            </button>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport './but.css'\r\n\r\nexport default class ButSave extends React.Component {\r\n\r\n\r\n    save = () => {\r\n        this.props.buttonEvent('save')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button type='button' className='btn btn-outline-primary' onClick = {this.save} >\r\n                <svg width='32' height='32' fill='currentColor' className='bi bi-hdd' viewBox='0 0 16 16'>\r\n                    <path d='M4.5 11a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zM3 10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z' />\r\n                    <path d='M16 11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9.51c0-.418.105-.83.305-1.197l2.472-4.531A1.5 1.5 0 0 1 4.094 3h7.812a1.5 1.5 0 0 1 1.317.782l2.472 4.53c.2.368.305.78.305 1.198V11zM3.655 4.26L1.592 8.043C1.724 8.014 1.86 8 2 8h12c.14 0 .276.014.408.042L12.345 4.26a.5.5 0 0 0-.439-.26H4.094a.5.5 0 0 0-.44.26zM1 10v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1z' />\r\n                </svg>\r\n            </button>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport './but.css'\r\n\r\nexport default class ButClose extends React.Component {\r\n\r\n    close = () => {\r\n        this.props.buttonEvent('close')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button type='button' className='btn btn-outline-warning' onClick = {this.close}>\r\n                <svg width=\"32\" height=\"32\" fill=\"currentColor\" className='bi bi-x-circle' viewBox=\"0 0 16 16\">\r\n                    <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n                    <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\r\n                </svg>\r\n            </button>\r\n        )\r\n    }\r\n\r\n}","import Task from './task'\r\nexport default Task","import React from 'react'\r\nimport ButPlay from '../buttons/but_play'\r\nimport ButPause from '../buttons/but_pause'\r\nimport ButSave from '../buttons/but_save'\r\nimport ButClose from '../buttons/but_close'\r\nimport './task.css'\r\n\r\nexport default class Task extends React.Component {\r\n\r\n\r\n    pad = function (num) { return ('00' + num).slice(-2) }\r\n\r\n    DurationToStr(diffsec) {\r\n\r\n        let duration = '';\r\n        duration = this.pad(Math.trunc(diffsec / 3600)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 3600)) * 3600;\r\n        duration = duration + this.pad(Math.trunc(diffsec / 60)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 60)) * 60;\r\n        return duration + this.pad(diffsec);\r\n    }\r\n\r\n    changeTownHandler = (e) => {\r\n        this.props.towns.find((item) => {\r\n            if (item.town_title === e.target.value) this.props.changeTown(item.id, this.props.index, item.town_title)\r\n        })\r\n    }\r\n\r\n    changeTaskDesc = (e) => {\r\n        this.props.changeDesc(e.target.value, this.props.index)\r\n    }\r\n\r\n    clickButton = (action) => {\r\n        this.props.buttonsHandler(\r\n            {\r\n                action: action,\r\n                id: this.props.task.taskId,\r\n                description: this.props.task.description,\r\n                town_id: this.props.task.town_id,\r\n                index: this.props.index\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n\r\n        let main_but = ''\r\n        let close_but = <ButClose buttonEvent={this.clickButton} />\r\n        let task_duration = this.DurationToStr(this.props.task.duration)\r\n        if (this.props.task.status === 1) {\r\n            main_but = <ButPlay buttonEvent={this.clickButton} />\r\n        }\r\n        if (this.props.task.status === 2) {\r\n            main_but = <ButPause buttonEvent={this.clickButton} />\r\n            task_duration = ''\r\n        }\r\n        if (this.props.task.status === 0) {\r\n            close_but = ''\r\n        }\r\n\r\n        let task_style = 'task-item'\r\n        if (this.props.index % 2 === 0)\r\n            task_style = 'task-item table-active'\r\n\r\n        //console.log(`${this.props.task.town_id}  ${this.props.task.town_title}`)\r\n\r\n        let selectValue = this.props.task.town_title || 'Не выбран участок...'\r\n\r\n        let colorForSelect = 'form-control select__mod'\r\n        if (this.props.task.town_id === -1) colorForSelect = 'form-control select__mod not__choose'\r\n\r\n        return (\r\n\r\n            <div className={task_style} >\r\n\r\n                <div className='task-title' ><small>{this.props.task.title}</small></div>\r\n\r\n                <div className='task-time' >{this.props.task.time_start}</div>\r\n                {this.props.task.status === 2 ?\r\n                    <div className='task-time table-success' >в работе</div> :\r\n                    <div className='task-time ' >{task_duration}</div>\r\n                }\r\n                <div className='task-description'>\r\n                    <input className='form-control input__mod' placeholder='Описание...' value={this.props.task.description} onChange={this.changeTaskDesc}></input>\r\n                </div>\r\n                <div className='task-place'>\r\n\r\n                    <select className={colorForSelect} value={selectValue} onChange={this.changeTownHandler}>\r\n                        <option disabled selected>Не выбран участок...</option>\r\n                        {\r\n                            this.props.towns.map((item, index) => {\r\n                                return (item.isfilial === 0 ? <option key={index}>{item.town_title}</option> : <option key={index} className='isfilial' disabled>{item.town_title}</option>)\r\n                            })\r\n                        }\r\n                    </select>\r\n\r\n                </div>\r\n                <div className='task-buttons' >\r\n\r\n                    {this.props.isCurDate && main_but}\r\n                    <ButSave buttonEvent={this.clickButton} />\r\n                    {this.props.isCurDate && close_but}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react'\r\nimport Task from '../task'\r\nimport { ItemTypes } from '../constants/constants'\r\nimport { DropTarget } from 'react-dnd'\r\nimport './work-area.css'\r\n\r\nconst TaskTarget = {\r\n\r\n\r\n\r\n    hover(props, monitor, component) {\r\n\r\n    },\r\n\r\n    drop(props, monitor, component) {\r\n        props.newTask(monitor.getItem())\r\n    }\r\n}\r\n\r\nfunction collect(connect, monitor) {\r\n    return {\r\n\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver(),\r\n        isOverCurrent: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        itemType: monitor.getItemType(),\r\n        itemTitle: monitor.getItem()\r\n    }\r\n}\r\n\r\nclass WorkArea extends React.Component {\r\n    render() {\r\n\r\n        return this.props.connectDropTarget(\r\n            <div className='work-task'>\r\n                {this.props.isOver && <div className='table-warning empty'><strong>{this.props.itemTitle.title}</strong></div>}\r\n\r\n                {this.props.tasks.map((item, index) => {\r\n                    return ( <Task task={item} key={index} index={index} towns={this.props.towns} buttonsHandler={this.props.buttonsHandler} changeDesc = {this.props.changeDesc} changeTown={this.props.changeTown} isCurDate = {this.props.isCurDate}/>)\r\n                })\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DropTarget(ItemTypes.TASK, TaskTarget, collect)(WorkArea)","import WorkArea from './work-area'\r\nexport default WorkArea","import Report from './report'\r\nexport default Report","import React from 'react'\r\nimport './report.css'\r\n\r\nexport default class Report extends React.Component {\r\n\r\n\r\n    pad = function (num) { return ('00' + num).slice(-2) }\r\n\r\n    toDate = (fromdate) => {\r\n        const dateparts = fromdate.split(' ', 1)[0].split('-')\r\n        //console.log(dateparts)\r\n        return `${dateparts[2]}.${dateparts[1]}.${dateparts[0]}`\r\n    }\r\n\r\n    DurationToStr(diffsec) {\r\n\r\n        let duration = '';\r\n        duration = this.pad(Math.trunc(diffsec / 3600)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 3600)) * 3600;\r\n        duration = duration + this.pad(Math.trunc(diffsec / 60)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 60)) * 60;\r\n        return duration + this.pad(diffsec);\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n            <div className='report'>\r\n                <div className='report-table'>\r\n                    <table className='table table-hover'>\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope='col'>Наименование работы</th>\r\n                                <th scope='col'>Комментарий</th>\r\n                                <th scope='col'>Место оказания услуги</th>\r\n                                <th scope='col'>Дата</th>\r\n                                <th scope='col'>Длительность</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.props.rows.map((item, index) => {\r\n                                return (\r\n                                    <tr>\r\n                                        <td>{item.template_title}</td>\r\n                                        <td>{item.description}</td>\r\n                                        <td>{item.town_title}</td>\r\n                                        <td>{this.toDate(item.datestart)}</td>\r\n                                        <td>{this.DurationToStr(item.duration)}</td>\r\n                                    </tr>\r\n                                )\r\n                            })\r\n\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n","import Authorization from './authorization'\r\nexport default Authorization","import React from 'react'\r\nimport './authorization.css'\r\n\r\nexport default class Authorization extends React.Component {\r\n\r\n    state = {\r\n        name: '',\r\n        pass: '',\r\n        fio: '',\r\n        pass1: '',\r\n        login: true,\r\n        isFIOCorrect: true,\r\n        isNameCorrect: true,\r\n        isPassCorrect: true\r\n    }\r\n\r\n    checkData = () => {\r\n        const { fio, name, pass, pass1 } = this.state\r\n        let correct = true\r\n        if (fio.trim().length < 8) {\r\n            correct = false\r\n            this.setState({ isFIOCorrect: false })\r\n        }\r\n\r\n        if (name.trim().length < 5) {\r\n            correct = false\r\n            this.setState({ isNameCorrect: false })\r\n        }\r\n\r\n        if (pass.trim().length < 8 || pass !== pass1) {\r\n            correct = false\r\n            this.setState({ isPassCorrect: false })\r\n        }\r\n\r\n        if (correct) {\r\n            this.setState(\r\n                {\r\n                    isFIOCorrect: true,\r\n                    isNameCorrect: true,\r\n                    isPassCorrect: true\r\n                }\r\n            )\r\n        }\r\n\r\n        return correct\r\n    }\r\n\r\n    registration = () => {\r\n        if (this.checkData()) {\r\n            let pair = ''\r\n            try {\r\n                pair = btoa(`${this.state.name}:${this.state.pass}`)\r\n            }\r\n            catch {\r\n                this.setState(\r\n                    {\r\n                        isNameCorrect: false,\r\n                        isPassCorrect: false\r\n                    }\r\n                )\r\n                return\r\n            }\r\n            if (this.props.regHandler({ fio: this.state.fio, userpass: pair })) {\r\n                this.setState({\r\n                    name: '',\r\n                    pass: '',\r\n                    fio: '',\r\n                    pass1: '',\r\n                    login: true,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    closeHandler = () => {\r\n        this.props.closeMessage()\r\n        if (!this.state.login) this.setState({\r\n            isFIOCorrect: true,\r\n            isNameCorrect: true,\r\n            isPassCorrect: true,\r\n            login: true,\r\n            name: '',\r\n            pass: '',\r\n            fio: '',\r\n            pass1: '',\r\n        })\r\n    }\r\n\r\n    login = () => {\r\n        let pair = ''\r\n            try {\r\n                pair = btoa(`${this.state.name}:${this.state.pass}`)\r\n            }\r\n            catch {\r\n                this.setState(\r\n                    {\r\n                        isNameCorrect: false,\r\n                        isPassCorrect: false\r\n                    }\r\n                )\r\n                return\r\n            }\r\n        this.props.authHandler(pair)\r\n    }\r\n\r\n    turnReg = () => {\r\n        this.setState({\r\n            name: '',\r\n            pass: '',\r\n            fio: '',\r\n            pass1: '',\r\n            login: false\r\n        })\r\n    }\r\n\r\n    inputNameHandler = (e) => {\r\n        //const reg = /^\\w+$/i\r\n        //if (reg.test(e.target.value))\r\n            this.setState({ name: e.target.value })\r\n    }\r\n\r\n    inputFIOHandler = (e) => {\r\n        this.setState({ fio: e.target.value })\r\n    }\r\n\r\n    inputPassHandler = (e) => {\r\n        //const reg = /^\\w+$/i\r\n        //if (reg.test(e.target.value))\r\n            this.setState({ pass: e.target.value })\r\n    }\r\n\r\n    confirmPassHandler = (e) => {\r\n        this.setState({ pass1: e.target.value })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { name, pass, login, fio, pass1, isFIOCorrect, isPassCorrect, isNameCorrect } = this.state\r\n        const { registrationOk, authResult } = this.props\r\n\r\n        let fioStyle = 'form-control'\r\n        if (!isFIOCorrect) fioStyle = 'form-control is-invalid'\r\n        let nameStyle = 'form-control'\r\n        if (!isNameCorrect) nameStyle = 'form-control is-invalid'\r\n        let passStyle = 'form-control'\r\n        if (!isPassCorrect) passStyle = 'form-control is-invalid'\r\n        return (\r\n\r\n            <div className='toast show toast__mod' role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\r\n                <div className='toast-header'>\r\n                    <strong className='mr-auto'>Вход\\регистрация</strong>\r\n                    <button type=\"button\" className='ml-2 mb-1 close' data-dismiss=\"toast\" aria-label=\"Close\" onClick={this.closeHandler}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className='toast-body'>\r\n                    {!login && !registrationOk &&\r\n                        <div className='form-group has-danger form__mod'>\r\n                            <input type='text' value={fio} className={fioStyle} id='inputValid' onChange={this.inputFIOHandler} autoComplete='off' placeholder='ФИО' />\r\n                        </div>\r\n                    }\r\n                    {!registrationOk &&\r\n                        <div className='form-group has-danger form__mod'>\r\n                            <input type='text' value={name} className={nameStyle} id='inputValid' onChange={this.inputNameHandler} autoComplete='off' placeholder='Имя пользователя' />\r\n                        </div>\r\n                    }\r\n                    {!registrationOk &&\r\n                        <div className='form-group has-danger form__mod'>\r\n                            <input type='password' value={pass} className={passStyle} id='exampleInputPassword1' onChange={this.inputPassHandler} autoComplete='off' placeholder='Пароль' />\r\n\r\n                        </div>\r\n                    }\r\n                    {!login && !registrationOk &&\r\n                        <div className='form-group has-danger form__mod'>\r\n                            <input type='password' value={pass1} className={passStyle} id='exampleInputPassword1' onChange={this.confirmPassHandler} autoComplete='off' placeholder='Пароль еще раз' />\r\n\r\n                        </div>\r\n                    }\r\n                    {login && !registrationOk &&\r\n                        <div className='but_wrap'>\r\n\r\n                            <button type='button' className='btn btn-primary btn-sm enter' onClick={this.login} >Вход</button>\r\n                            <button type='button' className='btn btn-primary btn-sm reg' onClick={this.turnReg} >Регистрация</button>\r\n                        </div>\r\n                    }\r\n                    {!login && !registrationOk &&\r\n                        <div className='but_wrap'>\r\n\r\n                            <button type='button' className='btn btn-primary btn-sm enter' onClick={this.registration} >Отправить</button>\r\n\r\n                        </div>\r\n                    }\r\n                    {\r\n                        !authResult && login &&\r\n                        <div className=\"alert alert-dismissible alert-danger message__mod\">\r\n\r\n                            <strong>Неверный логин или пароль</strong>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        registrationOk &&\r\n                        <div className=\"alert alert-dismissible alert-success message__mod\">\r\n\r\n                            <strong>Регистрация выполнена!</strong> Сообщите администартору ваше ФИО для активации.\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import Main from './main'\r\nexport default Main","import React from 'react'\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport TaskTemplate from '../task_template'\r\nimport Header from '../header'\r\nimport Footer from '../footer'\r\nimport Loading from '../loading'\r\nimport CreateTask from '../create_task'\r\nimport WorkArea from '../work-area'\r\nimport AppService from '../../services/app-service'\r\nimport Report from '../report'\r\nimport Authorization from '../authorization'\r\nimport '../../styles/bootstrap.min.css'\r\nimport './main.css'\r\n\r\nexport default class Main extends React.Component {\r\n\r\n\r\n    state = {\r\n        task_templates: [],\r\n        tasks: [],\r\n        towns: [],\r\n        loaded_template: false,\r\n        loaded_tasks: false,\r\n        loaded_towns: false,\r\n        navDate: new Date(),\r\n        reportDateStart: new Date(),\r\n        reportDateEnd: new Date(),\r\n        reports: [],\r\n        loaded_report: false,\r\n        isAutorizated: true,\r\n        registrationOk: false,\r\n        userID: '',\r\n        authResult: true\r\n    }\r\n\r\n    pad = function (num) { return ('00' + num).slice(-2) }\r\n\r\n    closeReport = () => {\r\n        this.setState({ loaded_report: false })\r\n    }\r\n\r\n    exit = () => {\r\n        //console.log('exit')\r\n        new AppService('dev').logout().then((res) => {\r\n            //console.log(res)\r\n            if (res.status === 0) {\r\n                this.setState({\r\n                    isAutorizated: false\r\n                })\r\n                localStorage.removeItem('fio')\r\n            }\r\n            else {\r\n                console.log(res.status)\r\n            }\r\n        })\r\n    }\r\n\r\n    closeMessage = () => {\r\n        this.setState({ registrationOk: false })\r\n    }\r\n\r\n    registrate = (data) => {\r\n        //console.log(data)\r\n        new AppService('dev').registration(data).then((res) => {\r\n            if (res.status === 0) {\r\n                //console.log(res)\r\n                this.setState({ registrationOk: true })\r\n                return true\r\n            }\r\n            else {\r\n                console.log(res.result)\r\n            }\r\n            //this.setState({ isAutorizated: true })\r\n            //this.loadMainContent()\r\n        })\r\n    }\r\n\r\n    authorizate = (data) => {\r\n\r\n        this.setState({ authResult: true })\r\n        new AppService('dev').authorization(data).then((res) => {\r\n            if (res.status === 0) {\r\n                this.setState({\r\n                    isAutorizated: true,\r\n                    userID: res.result\r\n                })\r\n                localStorage.setItem('fio', res.result)\r\n                this.loadMainContent()\r\n            }\r\n            else {\r\n                //console.log(res.result)\r\n                this.setState({ authResult: false })\r\n            }\r\n        })\r\n    }\r\n\r\n    createReport = () => {\r\n        //console.log(`report for ${this.state.reportDateStart} - ${this.state.reportDateEnd}`)\r\n        const dateStart = this.state.reportDateStart\r\n        const dateEnd = this.state.reportDateEnd\r\n        const dates = {\r\n            reportDateStart: `${dateStart.getFullYear()}-${this.pad(dateStart.getMonth() + 1)}-${this.pad(dateStart.getDate())} 00:00:00`,\r\n            reportDateEnd: `${dateEnd.getFullYear()}-${this.pad(dateEnd.getMonth() + 1)}-${this.pad(dateEnd.getDate())} 23:59:59`\r\n        }\r\n        new AppService('dev').reportTasksDays(dates).then((res) => {\r\n            //console.log(res)\r\n            if (res.status === 0) {\r\n                this.setState({\r\n                    reports: res.result,\r\n                    loaded_report: true\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    chandeReportDate = (newDate, startOrend) => {\r\n        if (startOrend === 'start') this.setState({ reportDateStart: newDate })\r\n        if (startOrend === 'end') this.setState({ reportDateEnd: newDate })\r\n    }\r\n\r\n    changeTown = (townId, index, town_title) => {\r\n        //console.log(townId, index)\r\n        const newTasks = [...this.state.tasks]\r\n        newTasks[index].town_id = townId\r\n        newTasks[index].town_title = town_title\r\n        this.setState({ tasks: newTasks })\r\n    }\r\n\r\n    changeDescription = (descValue, index) => {\r\n        //console.log(`index = ${index} desc = ${descValue}`)\r\n        const newTasks = [...this.state.tasks]\r\n        newTasks[index].description = descValue\r\n        this.setState({ tasks: newTasks })\r\n    }\r\n\r\n    DurationToStr(diffsec) {\r\n\r\n        var duration = '';\r\n        duration = this.pad(Math.trunc(diffsec / 3600)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 3600)) * 3600;\r\n        duration = duration + this.pad(Math.trunc(diffsec / 60)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 60)) * 60;\r\n        return duration + this.pad(diffsec);\r\n    }\r\n\r\n    loadMainContent = () => {\r\n        const { navDate, isAutorizated } = this.state\r\n        const curdatestrFull = `${navDate.getFullYear()}-${this.pad(navDate.getMonth() + 1)}-${this.pad(navDate.getDate())} ${this.pad(navDate.getHours())}:${this.pad(navDate.getMinutes())}:${this.pad(navDate.getSeconds())}`;\r\n        if (isAutorizated) {\r\n            new AppService('dev').getTemplates().then((res) => {\r\n                if (res.status === 0) {\r\n                    this.setState({\r\n                        task_templates: res.result,\r\n                        loaded_templates: true\r\n                    })\r\n                }\r\n                else if (res.status === -2) {\r\n                    this.setState({ isAutorizated: false })\r\n                }\r\n            })\r\n\r\n            new AppService('dev').getTasks({ curDate: curdatestrFull }).then((res) => {\r\n                if (res.status === 0) {\r\n                    this.setState({\r\n                        tasks: res.result,\r\n                        loaded_tasks: true\r\n                    })\r\n                }\r\n                else if (res.status === -2) {\r\n                    this.setState({ isAutorizated: false })\r\n                }\r\n            })\r\n\r\n            new AppService('dev').getTowns().then((res) => {\r\n                if (res.status === 0) {\r\n                    this.setState({\r\n                        towns: res.result,\r\n                        loaded_towns: true\r\n                    })\r\n                }\r\n                else if (res.status === -2) {\r\n                    this.setState({ isAutorizated: false })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(localStorage.getItem('fio') !== undefined) {\r\n            this.setState( {userID : localStorage.getItem('fio')} )\r\n        }\r\n        this.loadMainContent()\r\n\r\n    }\r\n\r\n    existsActiveTask = (array) => {\r\n        if (array.length > 0) {\r\n            if (array[0].status === 2) return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    deleteTemplateHander = (index, id) => {\r\n        new AppService('dev').deleteTemplateById(id).then((res) => {\r\n            const new_templates = this.state.task_templates\r\n            new_templates.splice(index, 1)\r\n            this.setState({ task_templates: new_templates })\r\n        })\r\n\r\n    }\r\n\r\n    newTemplateHandler = (template) => {\r\n        const new_templates = [...this.state.task_templates]\r\n        new_templates.push(template)\r\n        this.setState({ task_templates: new_templates })\r\n    }\r\n\r\n    newTaskHandler = (newTask) => {\r\n        const curdate = new Date()\r\n        const curdatestrFull = `${curdate.getFullYear()}-${this.pad(curdate.getMonth() + 1)}-${this.pad(curdate.getDate())} ${this.pad(curdate.getHours())}:${this.pad(curdate.getMinutes())}:${this.pad(curdate.getSeconds())}`;\r\n        new AppService('dev').createNewTask({ id: newTask.id, datestart: curdatestrFull }).then((res) => {\r\n            newTask.time_start = `${this.pad(curdate.getHours())}:${this.pad(curdate.getMinutes())}:${this.pad(curdate.getSeconds())}`\r\n            newTask.status = 2\r\n            newTask.taskId = res.result\r\n            newTask.description = ''\r\n            newTask.town_id = -1\r\n            newTask.town_title = null\r\n            const newTasks = [...this.state.tasks]\r\n            if (this.existsActiveTask(newTasks)) {\r\n                newTasks[0].status = 1\r\n                newTasks[0].duration = res.duration\r\n\r\n            }\r\n            newTasks.push(newTask)\r\n            this.setState({ tasks: newTasks.sort((a, b) => b.status - a.status) })\r\n        })\r\n\r\n    }\r\n\r\n    buttonsHandler = (item) => {\r\n        const newTasks = [...this.state.tasks]\r\n        const curdate = new Date()\r\n        const curdatestrFull = `${curdate.getFullYear()}-${this.pad(curdate.getMonth() + 1)}-${this.pad(curdate.getDate())} ${this.pad(curdate.getHours())}:${this.pad(curdate.getMinutes())}:${this.pad(curdate.getSeconds())}`;\r\n        switch (item.action) {\r\n            case 'pause':\r\n                new AppService('dev').actionsFromTask({ id: item.id, date: curdatestrFull, action: 'pause' }).then((res) => {\r\n                    newTasks[item.index].status = 1\r\n                    newTasks[item.index].duration = res.duration\r\n                    this.setState({ tasks: newTasks })\r\n                })\r\n\r\n                break\r\n            case 'play':\r\n                new AppService('dev').actionsFromTask({ id: item.id, date: curdatestrFull, action: 'play' }).then((res) => {\r\n                    if (newTasks[0].status === 2) {\r\n                        newTasks[0].status = 1\r\n                        newTasks[0].duration = res.duration\r\n                    }\r\n                    newTasks[item.index].status = 2\r\n                    newTasks.sort((a, b) => b.status - a.status)\r\n                    this.setState({ tasks: newTasks })\r\n                })\r\n\r\n                break\r\n            case 'close':\r\n                new AppService('dev').actionsFromTask({ id: item.id, date: curdatestrFull, action: 'close' }).then((res) => {\r\n                    newTasks[item.index].status = 0\r\n                    newTasks[item.index].duration = res.duration\r\n                    newTasks.sort((a, b) => b.status - a.status)\r\n                    this.setState({ tasks: newTasks })\r\n                })\r\n                break\r\n\r\n            case 'save':\r\n                new AppService('dev').actionsFromTask({ id: item.id, description: item.description, town_id: item.town_id, action: 'save' }).then((res) => {\r\n                    if(res.status !== 0) console.log(res.result)\r\n                    //console.log(res)\r\n                    //newTasks[item.index].town_id = item.town_id\r\n                    //newTasks[item.index].description = item.description\r\n                    //newTasks.sort((a, b) => b.status - a.status)\r\n                    //this.setState({ tasks: newTasks })\r\n                })\r\n                break\r\n            default: break\r\n        }\r\n\r\n    }\r\n\r\n    changeDate = (date) => {\r\n        const curdatestrFull = `${date.getFullYear()}-${this.pad(date.getMonth() + 1)}-${this.pad(date.getDate())} ${this.pad(date.getHours())}:${this.pad(date.getMinutes())}:${this.pad(date.getSeconds())}`;\r\n        new AppService('dev').getTasks({ curDate: curdatestrFull }).then((res) => {\r\n            //console.log(res)\r\n            if (res.status === 0) {\r\n                this.setState({\r\n                    navDate: date,\r\n                    tasks: res.result,\r\n                    loaded_report: false\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { task_templates, loaded_templates, loaded_tasks, navDate, towns, loaded_towns, loaded_report, reports, reportDateStart, reportDateEnd, isAutorizated, registrationOk, authResult } = this.state\r\n        const isCurDate = (navDate.getFullYear() === new Date().getFullYear() && navDate.getMonth() === new Date().getMonth() && navDate.getDate() === new Date().getDate())\r\n        let mainContent = <Loading />\r\n        if (!loaded_report && loaded_templates && loaded_tasks && loaded_towns)\r\n            mainContent = <DndProvider backend={HTML5Backend}>\r\n                <div className='main'>\r\n                    <WorkArea tasks={this.state.tasks} towns={towns} newTask={this.newTaskHandler} buttonsHandler={this.buttonsHandler} changeDesc={this.changeDescription} changeTown={this.changeTown} isCurDate={isCurDate} />\r\n                    <div className='new-task'>\r\n\r\n                        <CreateTask createHandler={this.newTemplateHandler} />\r\n                        <div className='template-list'>\r\n                            {isCurDate &&\r\n                                task_templates.map((item, index) => {\r\n                                    return (<TaskTemplate key={index} template={item} template_index={index} deleteHandler={this.deleteTemplateHander} />)\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </DndProvider>\r\n\r\n        if (loaded_report)\r\n            mainContent = <Report rows={reports} />\r\n\r\n        return (\r\n            <div className='wrapper'>\r\n                {!isAutorizated && <Authorization authHandler={this.authorizate} registrationOk={registrationOk} regHandler={this.registrate} closeMessage={this.closeMessage} authResult={authResult} />}\r\n                {isAutorizated && <Header navDate={this.state.navDate} fio={this.state.userID} changeDate={this.changeDate} exit={this.exit} />}\r\n                {isAutorizated && mainContent}\r\n                {isAutorizated && <Footer chandeReportDate={this.chandeReportDate} startDate={reportDateStart} endDate={reportDateEnd} createReport={this.createReport} closeReport={this.closeReport} reportStat={loaded_report} />}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from './components/main'\n\nReactDOM.render(\n  <Main />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}