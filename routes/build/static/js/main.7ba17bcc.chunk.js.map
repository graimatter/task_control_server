{"version":3,"sources":["components/constants/constants.js","components/task_template/task_template.js","components/task_template/index.js","components/header/index.js","components/header/header.js","components/footer/index.js","components/footer/footer.js","components/loading/index.js","components/loading/loading.js","services/dev-service/dev-service.js","services/app-service.js","components/create_task/index.js","components/create_task/create_task.js","components/buttons/but_play.js","components/buttons/but_pause.js","components/buttons/but_save.js","components/buttons/but_close.js","components/task/index.js","components/task/task.js","components/work-area/work-area.js","components/work-area/index.js","components/report/index.js","components/report/report.js","components/authorization/index.js","components/authorization/authorization.js","components/main/index.js","components/main/main.js","index.js"],"names":["ItemTypes","TaskTemplate","deleteTemplate","props","deleteHandler","template_index","template","id","this","connectDragSource","className","isDragging","type","data-dismiss","onClick","title","React","Component","DragSource","monitor","getItem","beginDrag","component","connect","dragSource","Header","state","navDate","changeDate","date","setState","exitHandles","exit","customInput","selected","onChange","Footer","startDate","Date","endDate","changeStartDate","chandeReportDate","changeEndDate","report","createReport","closeHanler","closeReport","reportStat","Loading","DevService","domain","req","getDataFromURL","url","inputdata","a","auth","token","ans","headers","fetch","method","credentials","body","JSON","stringify","then","result","json","data","catch","error","status","logout","authorization","registration","saveTaskTemplate","getTemplates","getTowns","reportTasksDays","dates","getTasks","curDate","createNewTask","task","actionsFromTask","taskinfo","AppService","appservice","templateId","deleteTemplateById","CreateTask","prepareTemplate","newobj","changeTitle","e","target","value","newTemplate","res","createHandler","placeholder","ButPlay","play","buttonEvent","width","height","fill","viewBox","d","ButPause","pause","ButSave","save","ButClose","close","Task","pad","num","slice","changeTownHandler","towns","find","item","town_title","changeTown","index","changeTaskDesc","changeDesc","clickButton","action","buttonsHandler","taskId","description","town_id","diffsec","duration","Math","trunc","task_style","main_but","close_but","task_duration","DurationToStr","console","log","selectValue","colorForSelect","time_start","disabled","map","isfilial","isCurDate","WorkArea","connectDropTarget","isOver","itemTitle","tasks","DropTarget","hover","drop","newTask","dropTarget","isOverCurrent","shallow","canDrop","itemType","getItemType","Report","toDate","fromdate","dateparts","split","scope","rows","template_title","datestart","Authorization","name","pass","fio","pass1","login","isFIOCorrect","isNameCorrect","isPassCorrect","checkData","correct","trim","length","pair","btoa","regHandler","userpass","closeHandler","closeMessage","authHandler","turnReg","inputNameHandler","inputFIOHandler","inputPassHandler","confirmPassHandler","registrationOk","authResult","fioStyle","nameStyle","passStyle","role","aria-live","aria-atomic","aria-label","aria-hidden","autoComplete","Main","task_templates","loaded_template","loaded_tasks","loaded_towns","reportDateStart","reportDateEnd","reports","loaded_report","isAutorizated","userID","registrate","authorizate","loadMainContent","dateStart","dateEnd","getFullYear","getMonth","getDate","newDate","startOrend","townId","newTasks","changeDescription","descValue","curdatestrFull","getHours","getMinutes","getSeconds","loaded_templates","existsActiveTask","array","deleteTemplateHander","new_templates","splice","newTemplateHandler","push","newTaskHandler","curdate","sort","b","mainContent","DndProvider","backend","HTML5Backend","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7ba17bcc.chunk.js","sourcesContent":["export const ItemTypes = {\r\n    TASK: 'task_template',\r\n    PATH: 'http://192.168.1.10:3001'\r\n  }","import React from 'react'\r\nimport { ItemTypes } from '../constants/constants'\r\nimport { DragSource } from 'react-dnd'\r\nimport './task_template.css'\r\n\r\nconst TemplateSource = {\r\n    /*canDrag(props) {\r\n      \r\n      return props.isReady\r\n    },*/\r\n\r\n    isDragging(props, monitor) {\r\n     \r\n      return monitor.getItem().id === props.template_index\r\n    },\r\n\r\n    beginDrag(props, monitor, component) {\r\n\r\n        const item = {\r\n            title : props.template.title,\r\n            id : props.template.id\r\n        }\r\n        return item\r\n    },\r\n\r\n    /*endDrag(props, monitor, component) {\r\n        if (!monitor.didDrop()) {\r\n\r\n            return\r\n        }\r\n\r\n        //const item = monitor.getItem()\r\n        //const dropResult = monitor.getDropResult()\r\n        //TemplateActions.moveTemplate(item.id, dropResult.listId)\r\n    }*/\r\n}\r\n\r\nfunction collect(connect, monitor) {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        isDragging: monitor.isDragging()\r\n    }\r\n}\r\n\r\nclass TaskTemplate extends React.Component {\r\n\r\n    deleteTemplate = () => {\r\n        this.props.deleteHandler(this.props.template_index, this.props.template.id)\r\n    }\r\n\r\n    render() {\r\n\r\n        return this.props.connectDragSource(\r\n\r\n            <div className='alert alert-dismissible alert-success' isDragging={this.props.isDragging}>\r\n                <button type='button' className='close' data-dismiss='alert' onClick={this.deleteTemplate}>&times;</button>\r\n                <strong className='unselectable'>{this.props.template.title}</strong>\r\n            </div>\r\n\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default DragSource(ItemTypes.TASK, TemplateSource, collect)(TaskTemplate)","import TaskTemplate from './task_template'\r\nexport default TaskTemplate","import Header from './header'\r\nexport default Header","import React from 'react'\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport './header.css'\r\n\r\nexport default class Header extends React.Component {\r\n\r\n    state = {\r\n        navDate : this.props.navDate\r\n    }\r\n\r\n    changeDate = (date) => {\r\n        this.setState({ navDate: date})\r\n        this.props.changeDate(date)\r\n    }\r\n\r\n    exitHandles = () => {\r\n        this.props.exit()\r\n    }\r\n    \r\n    render() {\r\n        \r\n        return (\r\n\r\n            <nav className='navbar navbar-expand-lg navbar-dark bg-primary header'>\r\n                <div className='navDate'>\r\n                    <DatePicker customInput = {<input type='text' className='form-control'></input>} selected={this.state.navDate} onChange={this.changeDate}/>\r\n                </div>\r\n                <button type='button' className='btn btn-warning btn-sm' onClick = {this.exitHandles} >Выход</button>\r\n            </nav>\r\n\r\n        )\r\n\r\n    }\r\n\r\n}","import Footer from './footer'\r\nexport default Footer","import React from 'react'\r\nimport './footer.css'\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\n\r\nexport default class Footer extends React.Component {\r\n\r\n    state = {\r\n        startDate: new Date(),\r\n        endDate: new Date()\r\n    }\r\n\r\n    changeStartDate = (date) => {\r\n        this.setState({ startDate: date })\r\n        this.props.chandeReportDate(date, 'start')\r\n        //this.props.changeDate(date)\r\n    }\r\n\r\n    changeEndDate = (date) => {\r\n        this.setState({ endDate: date })\r\n        this.props.chandeReportDate(date, 'end')\r\n        //this.props.changeDate(date)\r\n    }\r\n\r\n    report = () => {\r\n        this.props.createReport()\r\n    }\r\n\r\n    closeHanler = () => {\r\n        this.props.closeReport()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <nav className='navbar navbar-expand-lg navbar-dark bg-primary footer'>\r\n                <div className='navDate'>\r\n                    <div className='margin_mod'>\r\n                        <h6 className='date-title'>Отчет с:</h6>\r\n                    </div>\r\n                    <div className='margin_mod'>\r\n                        <DatePicker customInput={<input type='text' className='form-control'></input>} selected={this.props.startDate} onChange={this.changeStartDate} />\r\n                    </div>\r\n                    <div className='margin_mod'>\r\n                        <h6 className='date-title'>по:</h6>\r\n                    </div>\r\n                    <div className='margin_mod'>\r\n                        <DatePicker customInput={<input type='text' className='form-control'></input>} selected={this.props.endDate} onChange={this.changeEndDate} />\r\n                    </div>\r\n                    <div className='margin_mod'>\r\n                        <button type=\"button\" className='btn btn-secondary' onClick={this.report}>Сформировать</button>\r\n                    </div>\r\n                    {this.props.reportStat &&\r\n                        <div className='margin_mod'>\r\n                            <button type=\"button\" className='btn btn-warning' onClick={this.closeHanler}>Закрыть</button>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}","import Loading from './loading'\r\nexport default Loading","import React from 'react'\r\nimport './loading.css'\r\n\r\nexport default class Loading extends React.Component {\r\n\r\n\r\n    render() {\r\n\r\n        return(\r\n            <div className = 'load jumbotron' > Loading... </div>\r\n        )\r\n\r\n    }\r\n\r\n}","import {ItemTypes} from '../../components/constants/constants'\r\nexport default class DevService {\r\n\r\n    domain = (req) => `${ItemTypes.PATH}/${req}`\r\n\r\n    getDataFromURL = async (url, inputdata , auth = false, token = '') => {\r\n\r\n        let ans = {}\r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n        if (auth) {\r\n            headers = {\r\n                'authorization': 'Basic ' + token,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        await fetch(url, {\r\n            method: 'post',\r\n            credentials: 'include',\r\n            headers: headers,\r\n            body: JSON.stringify(inputdata)\r\n        })\r\n            .then(result => result.json())\r\n            .then(data => {\r\n                ans = data\r\n            })\r\n            .catch(function (error) {\r\n                const badRes = {\r\n                    status: -1,\r\n                    result: error\r\n                }\r\n                ans = badRes\r\n            });\r\n\r\n        return ans\r\n    };\r\n\r\n    logout = async (data) => {\r\n\r\n        return await this.getDataFromURL(this.domain('logout')) \r\n\r\n    }\r\n\r\n    authorization = async (data) => {\r\n\r\n        return await this.getDataFromURL(this.domain('login'), {}, true, data)\r\n\r\n    }\r\n\r\n    registration = async (data) => {\r\n\r\n        return await this.getDataFromURL(this.domain('registration'), data)\r\n\r\n    }\r\n\r\n    saveTaskTemplate = async (template) => {\r\n\r\n        return await this.getDataFromURL(this.domain('createTemplate'), template)\r\n\r\n    }\r\n\r\n    getTemplates = async () => {\r\n\r\n        return await this.getDataFromURL(this.domain('getAllTemplates'))\r\n\r\n    }\r\n\r\n    getTowns = async () => {\r\n\r\n        return await this.getDataFromURL(this.domain('getAllTowns'))\r\n\r\n    }\r\n\r\n    reportTasksDays = async (dates) => {\r\n\r\n        return await this.getDataFromURL(this.domain('reportTasksDays'), dates)\r\n\r\n    }\r\n\r\n    getTasks = async (curDate) => {\r\n\r\n        return await this.getDataFromURL(this.domain('getAllTasks'), curDate)\r\n\r\n    }\r\n\r\n    /*deleteTemplateById = async (templateId) => {\r\n\r\n        let ans = {}\r\n        await fetch('http://localhost:3001/deleteTemplate', {\r\n            method: 'post',  \r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({id : templateId})\r\n        })\r\n            .then(result => result.json())\r\n            .then(data => {\r\n                ans = data\r\n            })\r\n            .catch(function (error) {\r\n                const badRes = {\r\n                    status: -1,\r\n                    result: error\r\n                }\r\n                ans = badRes\r\n            });\r\n\r\n        return ans\r\n\r\n    }\r\n\r\n    saveDescription = async (taskId) => {\r\n\r\n        let ans = {}\r\n        await fetch('http://localhost:3001/saveDescription', {\r\n            method: 'post', \r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({id : taskId})\r\n        })\r\n            .then(result => result.json())\r\n            .then(data => {\r\n                ans = data\r\n            })\r\n            .catch(function (error) {\r\n                const badRes = {\r\n                    status: -1,\r\n                    result: error\r\n                }\r\n                ans = badRes\r\n            });\r\n\r\n        return ans\r\n\r\n    }*/\r\n\r\n    createNewTask = async (task) => {\r\n\r\n        return await this.getDataFromURL(this.domain('createNewTask'), task)\r\n\r\n        /*let ans = {}\r\n\r\n        await fetch('http://localhost:3001/createNewTask', {\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(task)\r\n        })\r\n            .then(result => result.json())\r\n            .then(data => {\r\n                ans = data\r\n            })\r\n            .catch(function (error) {\r\n                const badRes = {\r\n                    status: -1,\r\n                    result: error\r\n                }\r\n                ans = badRes\r\n            });\r\n\r\n        return ans*/\r\n\r\n    }\r\n\r\n    actionsFromTask = async (taskinfo) => {\r\n\r\n        return await this.getDataFromURL(this.domain('controllTask'), taskinfo)\r\n\r\n        /*let ans = {}\r\n\r\n        await fetch('http://localhost:3001/controllTask', {\r\n            method: 'post', \r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(taskinfo)\r\n        })\r\n            .then(result => result.json())\r\n            .then(data => {\r\n                ans = data\r\n            })\r\n            .catch(function (error) {\r\n                const badRes = {\r\n                    status: -1,\r\n                    result: error\r\n                }\r\n                ans = badRes\r\n            });\r\n\r\n        return ans*/\r\n\r\n    }\r\n\r\n}\r\n\r\n","import DevService from './dev-service/dev-service.js'\r\nexport default class AppService {\r\n\r\n    constructor(type){\r\n        \r\n        if(type === 'dev'){\r\n            if (!(this.appservice instanceof DevService)){\r\n                this.appservice = new DevService()\r\n            }   \r\n            return this \r\n        }\r\n\r\n    }\r\n\r\n   \r\n\r\n    saveTaskTemplate(template) {\r\n        return this.appservice.saveTaskTemplate(template)\r\n    }\r\n\r\n    getTemplates() {\r\n        return this.appservice.getTemplates()\r\n    }\r\n\r\n    getTasks(curDate) {\r\n        return this.appservice.getTasks(curDate)\r\n    }\r\n\r\n    getTowns() {\r\n        return this.appservice.getTowns()\r\n    }\r\n\r\n    deleteTemplateById(templateId) {\r\n        return this.appservice.deleteTemplateById(templateId)\r\n    }\r\n\r\n    createNewTask(task) {\r\n        return this.appservice.createNewTask(task)\r\n    }\r\n\r\n    actionsFromTask(taskinfo) {\r\n        return this.appservice.actionsFromTask(taskinfo)\r\n    }\r\n\r\n    reportTasksDays(dates) {\r\n        return this.appservice.reportTasksDays(dates)\r\n    }\r\n\r\n    authorization(data) {\r\n        return this.appservice.authorization(data)\r\n    }\r\n\r\n    registration(data) {\r\n        return this.appservice.registration(data)\r\n    }\r\n\r\n    logout() {\r\n        return this.appservice.logout()\r\n    }\r\n\r\n}","import CreateTask from './create_task'\r\nexport default CreateTask","import React from 'react'\r\nimport AppService from '../../services/app-service'\r\nimport './create_task.css'\r\n\r\nexport default class CreateTask extends React.Component {\r\n\r\n\r\n    state = {\r\n        template: {\r\n            id: 0,\r\n            title: ''\r\n        }\r\n    }\r\n\r\n    prepareTemplate = (id) => {\r\n        const newobj = {}\r\n        newobj.id = id\r\n        newobj.title = this.state.template.title\r\n        return newobj\r\n    }\r\n\r\n    changeTitle = (e) => {\r\n        this.setState({\r\n            template: {\r\n                id: 0,\r\n                title: e.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    newTemplate = () => {\r\n        new AppService('dev').saveTaskTemplate(this.state.template).then((res) => {\r\n            if(res.status === 0){\r\n                this.props.createHandler(this.prepareTemplate(res.result))\r\n                this.setState({\r\n                    template: {\r\n                        id: 0,\r\n                        title: ''\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div className='form-group create_task__mod'>\r\n                <input type=\"text\" className='form-control' placeholder=\"Новая задача...\" id='inputDefault' value={this.state.template.title} onChange={this.changeTitle}></input>\r\n                <button type=\"button\" className='btn btn-primary btn__paddings' onClick={this.newTemplate}>Добавить</button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport './but.css'\r\n\r\nexport default class ButPlay extends React.Component {\r\n\r\n    play = (e) => {\r\n        this.props.buttonEvent('play')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button type='button' className='btn btn-outline-success' onClick = {this.play}>\r\n                <svg width='32' height='32' fill='currentColor' className='bi bi-play-btn' viewBox='0 0 16 16'>\r\n                    <path d='M6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z' />\r\n                    <path d='M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z' />\r\n                </svg>\r\n            </button>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport './but.css'\r\n\r\nexport default class ButPause extends React.Component {\r\n\r\n\r\n    pause = () => {\r\n        this.props.buttonEvent('pause')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button type='button' className='btn btn-outline-warning' onClick = {this.pause} >\r\n                <svg width=\"32\" height=\"32\" fill=\"currentColor\" className='bi bi-pause-btn' viewBox=\"0 0 16 16\">\r\n                    <path d=\"M6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z\" />\r\n                    <path d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z\" />\r\n                </svg>\r\n            </button>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport './but.css'\r\n\r\nexport default class ButSave extends React.Component {\r\n\r\n\r\n    save = () => {\r\n        this.props.buttonEvent('save')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button type='button' className='btn btn-outline-info' onClick = {this.save} >\r\n                <svg width='32' height='32' fill='currentColor' className='bi bi-hdd' viewBox='0 0 16 16'>\r\n                    <path d='M4.5 11a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zM3 10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z' />\r\n                    <path d='M16 11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9.51c0-.418.105-.83.305-1.197l2.472-4.531A1.5 1.5 0 0 1 4.094 3h7.812a1.5 1.5 0 0 1 1.317.782l2.472 4.53c.2.368.305.78.305 1.198V11zM3.655 4.26L1.592 8.043C1.724 8.014 1.86 8 2 8h12c.14 0 .276.014.408.042L12.345 4.26a.5.5 0 0 0-.439-.26H4.094a.5.5 0 0 0-.44.26zM1 10v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1z' />\r\n                </svg>\r\n            </button>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport './but.css'\r\n\r\nexport default class ButClose extends React.Component {\r\n\r\n    close = () => {\r\n        this.props.buttonEvent('close')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button type='button' className='btn btn-outline-danger' onClick = {this.close}>\r\n                <svg width=\"32\" height=\"32\" fill=\"currentColor\" className='bi bi-x-circle' viewBox=\"0 0 16 16\">\r\n                    <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n                    <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\r\n                </svg>\r\n            </button>\r\n        )\r\n    }\r\n\r\n}","import Task from './task'\r\nexport default Task","import React from 'react'\r\nimport ButPlay from '../buttons/but_play'\r\nimport ButPause from '../buttons/but_pause'\r\nimport ButSave from '../buttons/but_save'\r\nimport ButClose from '../buttons/but_close'\r\nimport './task.css'\r\n\r\nexport default class Task extends React.Component {\r\n\r\n\r\n    /*state = {\r\n        desc: this.props.task.description\r\n    }*/\r\n\r\n    pad = function (num) { return ('00' + num).slice(-2) }\r\n\r\n    DurationToStr(diffsec) {\r\n\r\n        let duration = '';\r\n        duration = this.pad(Math.trunc(diffsec / 3600)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 3600)) * 3600;\r\n        duration = duration + this.pad(Math.trunc(diffsec / 60)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 60)) * 60;\r\n        return duration + this.pad(diffsec);\r\n    }\r\n\r\n    changeTownHandler = (e) => {\r\n        this.props.towns.find((item) => {\r\n            if (item.town_title === e.target.value) this.props.changeTown(item.id, this.props.index, item.town_title)\r\n        })\r\n    }\r\n\r\n    changeTaskDesc = (e) => {\r\n        this.props.changeDesc(e.target.value, this.props.index)\r\n    }\r\n\r\n    clickButton = (action) => {\r\n        this.props.buttonsHandler(\r\n            {\r\n                action: action,\r\n                id: this.props.task.taskId,\r\n                description: this.props.task.description,\r\n                town_id: this.props.task.town_id,\r\n                index: this.props.index\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        let task_style = 'task-item '\r\n        let main_but = ''\r\n        let close_but = <ButClose buttonEvent={this.clickButton} />\r\n        let task_duration = this.DurationToStr(this.props.task.duration)\r\n        if (this.props.task.status === 1) {\r\n            main_but = <ButPlay buttonEvent={this.clickButton} />\r\n        }\r\n        if (this.props.task.status === 2) {\r\n            main_but = <ButPause buttonEvent={this.clickButton} />\r\n            task_style = 'task-item task_active'\r\n            task_duration = ''\r\n        }\r\n        if (this.props.task.status === 0) {\r\n            close_but = ''\r\n        }\r\n\r\n        console.log(`${this.props.task.town_id}  ${this.props.task.town_title}`)\r\n\r\n        let selectValue = this.props.task.town_title || 'Не выбран участок...'\r\n\r\n        let colorForSelect = 'form-control input__mod'\r\n        if (this.props.task.town_id === -1) colorForSelect = 'form-control input__mod not__choose'\r\n\r\n        return (\r\n\r\n            <div className={task_style} >\r\n                <div className='task-title' >{this.props.task.title}</div>\r\n                <div className='task-time' >{this.props.task.time_start}</div>\r\n                <div className='task-time' >{task_duration}</div>\r\n                <div className='task-description'>\r\n                    <input className='form-control input__mod' placeholder='Описание...' value={this.props.task.description} onChange={this.changeTaskDesc}></input>\r\n                </div>\r\n                <div className='task-place'>\r\n\r\n                    <select className={colorForSelect} value={selectValue} onChange={this.changeTownHandler}>\r\n                        <option disabled selected>Не выбран участок...</option>\r\n                        {\r\n                            this.props.towns.map((item, index) => {\r\n                                return (item.isfilial === 0 ? <option >{item.town_title}</option> : <option className='isfilial' disabled>{item.town_title}</option>)\r\n                            })\r\n                        }\r\n                    </select>\r\n\r\n                </div>\r\n                <div className='task-buttons' >\r\n\r\n                    {this.props.isCurDate && main_but}\r\n                    <ButSave buttonEvent={this.clickButton} />\r\n                    {this.props.isCurDate && close_but}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react'\r\nimport Task from '../task'\r\nimport { ItemTypes } from '../constants/constants'\r\nimport { DropTarget } from 'react-dnd'\r\nimport './work-area.css'\r\n\r\nconst TaskTarget = {\r\n\r\n\r\n\r\n    hover(props, monitor, component) {\r\n\r\n    },\r\n\r\n    drop(props, monitor, component) {\r\n        props.newTask(monitor.getItem())\r\n    }\r\n}\r\n\r\nfunction collect(connect, monitor) {\r\n    return {\r\n\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver(),\r\n        isOverCurrent: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        itemType: monitor.getItemType(),\r\n        itemTitle: monitor.getItem()\r\n    }\r\n}\r\n\r\nclass WorkArea extends React.Component {\r\n    render() {\r\n\r\n        return this.props.connectDropTarget(\r\n            <div className='work-task'>\r\n                {this.props.isOver && <div className='table-warning empty'><strong>{this.props.itemTitle.title}</strong></div>}\r\n\r\n                {this.props.tasks.map((item, index) => {\r\n                    return ( <Task task={item} key={index} index={index} towns={this.props.towns} buttonsHandler={this.props.buttonsHandler} changeDesc = {this.props.changeDesc} changeTown={this.props.changeTown} isCurDate = {this.props.isCurDate}/>)\r\n                })\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DropTarget(ItemTypes.TASK, TaskTarget, collect)(WorkArea)","import WorkArea from './work-area'\r\nexport default WorkArea","import Report from './report'\r\nexport default Report","import React from 'react'\r\nimport './report.css'\r\n\r\nexport default class Report extends React.Component {\r\n\r\n\r\n    pad = function (num) { return ('00' + num).slice(-2) }\r\n\r\n    toDate = (fromdate) => {\r\n        const dateparts = fromdate.split(' ', 1)[0].split('-')\r\n        console.log(dateparts)\r\n        return `${dateparts[2]}.${dateparts[1]}.${dateparts[0]}`\r\n    }\r\n\r\n    DurationToStr(diffsec) {\r\n\r\n        let duration = '';\r\n        duration = this.pad(Math.trunc(diffsec / 3600)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 3600)) * 3600;\r\n        duration = duration + this.pad(Math.trunc(diffsec / 60)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 60)) * 60;\r\n        return duration + this.pad(diffsec);\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n            <div className='report'>\r\n                <div className='report-table'>\r\n                    <table className='table table-hover'>\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope='col'>Наименование работы</th>\r\n                                <th scope='col'>Комментарий</th>\r\n                                <th scope='col'>Место оказания услуги</th>\r\n                                <th scope='col'>Дата</th>\r\n                                <th scope='col'>Длительность</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.props.rows.map((item, index) => {\r\n                                return (\r\n                                    <tr>\r\n                                        <td>{item.template_title}</td>\r\n                                        <td>{item.description}</td>\r\n                                        <td>{item.town_title}</td>\r\n                                        <td>{this.toDate(item.datestart)}</td>\r\n                                        <td>{this.DurationToStr(item.duration)}</td>\r\n                                    </tr>\r\n                                )\r\n                            })\r\n\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n","import Authorization from './authorization'\r\nexport default Authorization","import React from 'react'\r\nimport './authorization.css'\r\n\r\nexport default class Authorization extends React.Component {\r\n\r\n    state = {\r\n        name: '',\r\n        pass: '',\r\n        fio: '',\r\n        pass1: '',\r\n        login: true,\r\n        isFIOCorrect: true,\r\n        isNameCorrect: true,\r\n        isPassCorrect: true\r\n    }\r\n\r\n    checkData = () => {\r\n        const { fio, name, pass, pass1 } = this.state\r\n        let correct = true\r\n        if (fio.trim().length < 8) {\r\n            correct = false\r\n            this.setState({ isFIOCorrect: false })\r\n        }\r\n\r\n        if (name.trim().length < 5) {\r\n            correct = false\r\n            this.setState({ isNameCorrect: false })\r\n        }\r\n\r\n        if (pass.trim().length < 8 || pass !== pass1) {\r\n            correct = false\r\n            this.setState({ isPassCorrect: false })\r\n        }\r\n\r\n        if (correct) {\r\n            this.setState(\r\n                {\r\n                    isFIOCorrect: true,\r\n                    isNameCorrect: true,\r\n                    isPassCorrect: true\r\n                }\r\n            )\r\n        }\r\n\r\n        return correct\r\n    }\r\n\r\n    registration = () => {\r\n        if (this.checkData()) {\r\n            let pair = ''\r\n            try {\r\n                pair = btoa(`${this.state.name}:${this.state.pass}`)\r\n            }\r\n            catch {\r\n                this.setState(\r\n                    {\r\n                        isNameCorrect: false,\r\n                        isPassCorrect: false\r\n                    }\r\n                )\r\n                return\r\n            }\r\n            if (this.props.regHandler({ fio: this.state.fio, userpass: pair })) {\r\n                this.setState({\r\n                    name: '',\r\n                    pass: '',\r\n                    fio: '',\r\n                    pass1: '',\r\n                    login: true,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    closeHandler = () => {\r\n        this.props.closeMessage()\r\n        if (!this.state.login) this.setState({\r\n            isFIOCorrect: true,\r\n            isNameCorrect: true,\r\n            isPassCorrect: true,\r\n            login: true,\r\n            name: '',\r\n            pass: '',\r\n            fio: '',\r\n            pass1: '',\r\n        })\r\n    }\r\n\r\n    login = () => {\r\n        let pair = ''\r\n            try {\r\n                pair = btoa(`${this.state.name}:${this.state.pass}`)\r\n            }\r\n            catch {\r\n                this.setState(\r\n                    {\r\n                        isNameCorrect: false,\r\n                        isPassCorrect: false\r\n                    }\r\n                )\r\n                return\r\n            }\r\n        this.props.authHandler(pair)\r\n    }\r\n\r\n    turnReg = () => {\r\n        this.setState({\r\n            name: '',\r\n            pass: '',\r\n            fio: '',\r\n            pass1: '',\r\n            login: false\r\n        })\r\n    }\r\n\r\n    inputNameHandler = (e) => {\r\n        //const reg = /^\\w+$/i\r\n        //if (reg.test(e.target.value))\r\n            this.setState({ name: e.target.value })\r\n    }\r\n\r\n    inputFIOHandler = (e) => {\r\n        this.setState({ fio: e.target.value })\r\n    }\r\n\r\n    inputPassHandler = (e) => {\r\n        //const reg = /^\\w+$/i\r\n        //if (reg.test(e.target.value))\r\n            this.setState({ pass: e.target.value })\r\n    }\r\n\r\n    confirmPassHandler = (e) => {\r\n        this.setState({ pass1: e.target.value })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { name, pass, login, fio, pass1, isFIOCorrect, isPassCorrect, isNameCorrect } = this.state\r\n        const { registrationOk, authResult } = this.props\r\n\r\n        let fioStyle = 'form-control'\r\n        if (!isFIOCorrect) fioStyle = 'form-control is-invalid'\r\n        let nameStyle = 'form-control'\r\n        if (!isNameCorrect) nameStyle = 'form-control is-invalid'\r\n        let passStyle = 'form-control'\r\n        if (!isPassCorrect) passStyle = 'form-control is-invalid'\r\n        return (\r\n\r\n            <div className='toast show toast__mod' role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\r\n                <div className='toast-header'>\r\n                    <strong className='mr-auto'>Вход\\регистрация</strong>\r\n                    <button type=\"button\" className='ml-2 mb-1 close' data-dismiss=\"toast\" aria-label=\"Close\" onClick={this.closeHandler}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className='toast-body'>\r\n                    {!login && !registrationOk &&\r\n                        <div className='form-group has-danger form__mod'>\r\n                            <input type='text' value={fio} className={fioStyle} id='inputValid' onChange={this.inputFIOHandler} autoComplete='off' placeholder='ФИО' />\r\n                        </div>\r\n                    }\r\n                    {!registrationOk &&\r\n                        <div className='form-group has-danger form__mod'>\r\n                            <input type='text' value={name} className={nameStyle} id='inputValid' onChange={this.inputNameHandler} autoComplete='off' placeholder='Имя пользователя' />\r\n                        </div>\r\n                    }\r\n                    {!registrationOk &&\r\n                        <div className='form-group has-danger form__mod'>\r\n                            <input type='password' value={pass} className={passStyle} id='exampleInputPassword1' onChange={this.inputPassHandler} autoComplete='off' placeholder='Пароль' />\r\n\r\n                        </div>\r\n                    }\r\n                    {!login && !registrationOk &&\r\n                        <div className='form-group has-danger form__mod'>\r\n                            <input type='password' value={pass1} className={passStyle} id='exampleInputPassword1' onChange={this.confirmPassHandler} autoComplete='off' placeholder='Пароль еще раз' />\r\n\r\n                        </div>\r\n                    }\r\n                    {login && !registrationOk &&\r\n                        <div className='but_wrap'>\r\n\r\n                            <button type='button' className='btn btn-primary btn-sm enter' onClick={this.login} >Вход</button>\r\n                            <button type='button' className='btn btn-primary btn-sm reg' onClick={this.turnReg} >Регистрация</button>\r\n                        </div>\r\n                    }\r\n                    {!login && !registrationOk &&\r\n                        <div className='but_wrap'>\r\n\r\n                            <button type='button' className='btn btn-primary btn-sm enter' onClick={this.registration} >Отправить</button>\r\n\r\n                        </div>\r\n                    }\r\n                    {\r\n                        !authResult && login &&\r\n                        <div className=\"alert alert-dismissible alert-danger message__mod\">\r\n\r\n                            <strong>Неверный логин или пароль</strong>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        registrationOk &&\r\n                        <div className=\"alert alert-dismissible alert-success message__mod\">\r\n\r\n                            <strong>Регистрация выполнена!</strong> Сообщите администартору ваше ФИО для активации.\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import Main from './main'\r\nexport default Main","import React from 'react'\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport TaskTemplate from '../task_template'\r\nimport Header from '../header'\r\nimport Footer from '../footer'\r\nimport Loading from '../loading'\r\nimport CreateTask from '../create_task'\r\nimport WorkArea from '../work-area'\r\nimport AppService from '../../services/app-service'\r\nimport Report from '../report'\r\nimport Authorization from '../authorization'\r\nimport '../../styles/bootstrap.min.css'\r\nimport './main.css'\r\n\r\nexport default class Main extends React.Component {\r\n\r\n\r\n    state = {\r\n        task_templates: [],\r\n        tasks: [],\r\n        towns: [],\r\n        loaded_template: false,\r\n        loaded_tasks: false,\r\n        loaded_towns: false,\r\n        navDate: new Date(),\r\n        reportDateStart: new Date(),\r\n        reportDateEnd: new Date(),\r\n        reports: [],\r\n        loaded_report: false,\r\n        isAutorizated: true,\r\n        registrationOk: false,\r\n        userID: -1,\r\n        authResult: true\r\n    }\r\n\r\n    pad = function (num) { return ('00' + num).slice(-2) }\r\n\r\n    closeReport = () => {\r\n        this.setState({ loaded_report: false })\r\n    }\r\n\r\n    exit = () => {\r\n        console.log('exit')\r\n        new AppService('dev').logout().then((res) => {\r\n            console.log(res)\r\n            if (res.status === 0) {\r\n                this.setState({\r\n                    isAutorizated: false\r\n                })\r\n            }\r\n            else {\r\n                console.log('error')\r\n            }\r\n        })\r\n    }\r\n\r\n    closeMessage = () => {\r\n        this.setState({ registrationOk: false })\r\n    }\r\n\r\n    registrate = (data) => {\r\n        //console.log(data)\r\n        new AppService('dev').registration(data).then((res) => {\r\n            if (res.status === 0) {\r\n                //console.log(res)\r\n                this.setState({ registrationOk: true })\r\n                return true\r\n            }\r\n            else {\r\n                console.log(res.result)\r\n            }\r\n            //this.setState({ isAutorizated: true })\r\n            //this.loadMainContent()\r\n        })\r\n    }\r\n\r\n    authorizate = (data) => {\r\n\r\n        this.setState({ authResult: true })\r\n        new AppService('dev').authorization(data).then((res) => {\r\n            if (res.status === 0) {\r\n                this.setState({\r\n                    isAutorizated: true,\r\n                    userID: res.result\r\n                })\r\n                this.loadMainContent()\r\n            }\r\n            else {\r\n                //console.log(res.result)\r\n                this.setState({ authResult: false })\r\n            }\r\n        })\r\n    }\r\n\r\n    createReport = () => {\r\n        //console.log(`report for ${this.state.reportDateStart} - ${this.state.reportDateEnd}`)\r\n        const dateStart = this.state.reportDateStart\r\n        const dateEnd = this.state.reportDateEnd\r\n        const dates = {\r\n            reportDateStart: `${dateStart.getFullYear()}-${this.pad(dateStart.getMonth() + 1)}-${this.pad(dateStart.getDate())} 00:00:00`,\r\n            reportDateEnd: `${dateEnd.getFullYear()}-${this.pad(dateEnd.getMonth() + 1)}-${this.pad(dateEnd.getDate())} 23:59:59`\r\n        }\r\n        new AppService('dev').reportTasksDays(dates).then((res) => {\r\n            console.log(res)\r\n            if (res.status === 0) {\r\n                this.setState({\r\n                    reports: res.result,\r\n                    loaded_report: true\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    chandeReportDate = (newDate, startOrend) => {\r\n        if (startOrend === 'start') this.setState({ reportDateStart: newDate })\r\n        if (startOrend === 'end') this.setState({ reportDateEnd: newDate })\r\n    }\r\n\r\n    changeTown = (townId, index, town_title) => {\r\n        console.log(townId, index)\r\n        const newTasks = [...this.state.tasks]\r\n        newTasks[index].town_id = townId\r\n        newTasks[index].town_title = town_title\r\n        this.setState({ tasks: newTasks })\r\n    }\r\n\r\n    changeDescription = (descValue, index) => {\r\n        //console.log(`index = ${index} desc = ${descValue}`)\r\n        const newTasks = [...this.state.tasks]\r\n        newTasks[index].description = descValue\r\n        this.setState({ tasks: newTasks })\r\n    }\r\n\r\n    DurationToStr(diffsec) {\r\n\r\n        var duration = '';\r\n        duration = this.pad(Math.trunc(diffsec / 3600)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 3600)) * 3600;\r\n        duration = duration + this.pad(Math.trunc(diffsec / 60)) + ':';\r\n        diffsec = diffsec - (Math.trunc(diffsec / 60)) * 60;\r\n        return duration + this.pad(diffsec);\r\n    }\r\n\r\n    loadMainContent = () => {\r\n        const { navDate, isAutorizated } = this.state\r\n        const curdatestrFull = `${navDate.getFullYear()}-${this.pad(navDate.getMonth() + 1)}-${this.pad(navDate.getDate())} ${this.pad(navDate.getHours())}:${this.pad(navDate.getMinutes())}:${this.pad(navDate.getSeconds())}`;\r\n        if (isAutorizated) {\r\n            new AppService('dev').getTemplates().then((res) => {\r\n                if (res.status === 0) {\r\n                    this.setState({\r\n                        task_templates: res.result,\r\n                        loaded_templates: true\r\n                    })\r\n                }\r\n                else if (res.status === -2) {\r\n                    this.setState({ isAutorizated: false })\r\n                }\r\n            })\r\n\r\n            new AppService('dev').getTasks({ curDate: curdatestrFull }).then((res) => {\r\n                if (res.status === 0) {\r\n                    this.setState({\r\n                        tasks: res.result,\r\n                        loaded_tasks: true\r\n                    })\r\n                }\r\n                else if (res.status === -2) {\r\n                    this.setState({ isAutorizated: false })\r\n                }\r\n            })\r\n\r\n            new AppService('dev').getTowns().then((res) => {\r\n                if (res.status === 0) {\r\n                    this.setState({\r\n                        towns: res.result,\r\n                        loaded_towns: true\r\n                    })\r\n                }\r\n                else if (res.status === -2) {\r\n                    this.setState({ isAutorizated: false })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadMainContent()\r\n\r\n    }\r\n\r\n    existsActiveTask = (array) => {\r\n        if (array.length > 0) {\r\n            if (array[0].status === 2) return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    deleteTemplateHander = (index, id) => {\r\n        new AppService('dev').deleteTemplateById(id).then((res) => {\r\n            const new_templates = this.state.task_templates\r\n            new_templates.splice(index, 1)\r\n            this.setState({ task_templates: new_templates })\r\n        })\r\n\r\n    }\r\n\r\n    newTemplateHandler = (template) => {\r\n        const new_templates = [...this.state.task_templates]\r\n        new_templates.push(template)\r\n        this.setState({ task_templates: new_templates })\r\n    }\r\n\r\n    newTaskHandler = (newTask) => {\r\n        const curdate = new Date()\r\n        const curdatestrFull = `${curdate.getFullYear()}-${this.pad(curdate.getMonth() + 1)}-${this.pad(curdate.getDate())} ${this.pad(curdate.getHours())}:${this.pad(curdate.getMinutes())}:${this.pad(curdate.getSeconds())}`;\r\n        new AppService('dev').createNewTask({ id: newTask.id, datestart: curdatestrFull }).then((res) => {\r\n            newTask.time_start = `${this.pad(curdate.getHours())}:${this.pad(curdate.getMinutes())}:${this.pad(curdate.getSeconds())}`\r\n            newTask.status = 2\r\n            newTask.taskId = res.result\r\n            newTask.description = ''\r\n            newTask.town_id = -1\r\n            newTask.town_title = null\r\n            const newTasks = [...this.state.tasks]\r\n            if (this.existsActiveTask(newTasks)) {\r\n                newTasks[0].status = 1\r\n                newTasks[0].duration = res.duration\r\n\r\n            }\r\n            newTasks.push(newTask)\r\n            this.setState({ tasks: newTasks.sort((a, b) => b.status - a.status) })\r\n        })\r\n\r\n    }\r\n\r\n    buttonsHandler = (item) => {\r\n        const newTasks = [...this.state.tasks]\r\n        const curdate = new Date()\r\n        const curdatestrFull = `${curdate.getFullYear()}-${this.pad(curdate.getMonth() + 1)}-${this.pad(curdate.getDate())} ${this.pad(curdate.getHours())}:${this.pad(curdate.getMinutes())}:${this.pad(curdate.getSeconds())}`;\r\n        switch (item.action) {\r\n            case 'pause':\r\n                new AppService('dev').actionsFromTask({ id: item.id, date: curdatestrFull, action: 'pause' }).then((res) => {\r\n                    newTasks[item.index].status = 1\r\n                    newTasks[item.index].duration = res.duration\r\n                    this.setState({ tasks: newTasks })\r\n                })\r\n\r\n                break\r\n            case 'play':\r\n                new AppService('dev').actionsFromTask({ id: item.id, date: curdatestrFull, action: 'play' }).then((res) => {\r\n                    if (newTasks[0].status === 2) {\r\n                        newTasks[0].status = 1\r\n                        newTasks[0].duration = res.duration\r\n                    }\r\n                    newTasks[item.index].status = 2\r\n                    newTasks.sort((a, b) => b.status - a.status)\r\n                    this.setState({ tasks: newTasks })\r\n                })\r\n\r\n                break\r\n            case 'close':\r\n                new AppService('dev').actionsFromTask({ id: item.id, date: curdatestrFull, action: 'close' }).then((res) => {\r\n                    newTasks[item.index].status = 0\r\n                    newTasks[item.index].duration = res.duration\r\n                    newTasks.sort((a, b) => b.status - a.status)\r\n                    this.setState({ tasks: newTasks })\r\n                })\r\n                break\r\n\r\n            case 'save':\r\n                new AppService('dev').actionsFromTask({ id: item.id, description: item.description, town_id: item.town_id, action: 'save' }).then((res) => {\r\n                    console.log(res)\r\n                    //newTasks[item.index].town_id = item.town_id\r\n                    //newTasks[item.index].description = item.description\r\n                    //newTasks.sort((a, b) => b.status - a.status)\r\n                    //this.setState({ tasks: newTasks })\r\n                })\r\n                break\r\n            default: break\r\n        }\r\n\r\n    }\r\n\r\n    changeDate = (date) => {\r\n        const curdatestrFull = `${date.getFullYear()}-${this.pad(date.getMonth() + 1)}-${this.pad(date.getDate())} ${this.pad(date.getHours())}:${this.pad(date.getMinutes())}:${this.pad(date.getSeconds())}`;\r\n        new AppService('dev').getTasks({ curDate: curdatestrFull }).then((res) => {\r\n            console.log(res)\r\n            if (res.status === 0) {\r\n                this.setState({\r\n                    navDate: date,\r\n                    tasks: res.result,\r\n                    loaded_report: false\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { task_templates, loaded_templates, loaded_tasks, navDate, towns, loaded_towns, loaded_report, reports, reportDateStart, reportDateEnd, isAutorizated, registrationOk, authResult } = this.state\r\n        const isCurDate = (navDate.getFullYear() === new Date().getFullYear() && navDate.getMonth() === new Date().getMonth() && navDate.getDate() === new Date().getDate())\r\n        let mainContent = <Loading />\r\n        if (!loaded_report && loaded_templates && loaded_tasks && loaded_towns)\r\n            mainContent = <DndProvider backend={HTML5Backend}>\r\n                <div className='main'>\r\n                    <WorkArea tasks={this.state.tasks} towns={towns} newTask={this.newTaskHandler} buttonsHandler={this.buttonsHandler} changeDesc={this.changeDescription} changeTown={this.changeTown} isCurDate={isCurDate} />\r\n                    <div className='new-task'>\r\n\r\n                        <CreateTask createHandler={this.newTemplateHandler} />\r\n                        <div className='template-list'>\r\n                            {isCurDate &&\r\n                                task_templates.map((item, index) => {\r\n                                    return (<TaskTemplate key={index} template={item} template_index={index} deleteHandler={this.deleteTemplateHander} />)\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </DndProvider>\r\n\r\n        if (loaded_report)\r\n            mainContent = <Report rows={reports} />\r\n\r\n        return (\r\n            <div className='wrapper'>\r\n                {!isAutorizated && <Authorization authHandler={this.authorizate} registrationOk={registrationOk} regHandler={this.registrate} closeMessage={this.closeMessage} authResult={authResult} />}\r\n                {isAutorizated && <Header navDate={this.state.navDate} changeDate={this.changeDate} exit={this.exit} />}\r\n                {isAutorizated && mainContent}\r\n                {isAutorizated && <Footer chandeReportDate={this.chandeReportDate} startDate={reportDateStart} endDate={reportDateEnd} createReport={this.createReport} closeReport={this.closeReport} reportStat={loaded_report} />}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from './components/main'\n\nReactDOM.render(\n  <Main />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}